(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{4527:function(e,a,t){Promise.resolve().then(t.bind(t,8118))},8118:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return eo}});var s=t(784),r=t(1960),n=t(6070),l=t(5796),i=t(1296),c=t(4705),o=t(2304),d=t(1116),m=t(8232),u=t(3718),x=t(7237),h=t(3078),p=t(9175),f=t(5913),g=t(3686),j=t(2841),y=t(3390),N=t(9370),v=t(1300),b=t(5518),w=t(8926);function S(e){let{open:a,onOpenChange:t,onTransactionAdded:i}=e,[o,d]=(0,r.useState)([]),[m,S]=(0,r.useState)(!1),[C,E]=(0,r.useState)(new Date),[k,I]=(0,r.useState)({amount:"",type:"EXPENSE",description:"",merchant:"",categoryId:"",accountNumber:"",transactionId:""}),{toast:T}=(0,w.pm)();(0,r.useEffect)(()=>{a&&(Z(),M())},[a]);let Z=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let a=await e.json();d(a),a.length>0&&!k.categoryId&&""===k.amount&&I(e=>({...e,categoryId:a[0].id}))}}catch(e){console.error("Error fetching categories:",e),T({title:"Error",description:"Failed to load categories",variant:"destructive"})}},_=async e=>{if(e.preventDefault(),!k.amount||0>=parseFloat(k.amount)){T({title:"Error",description:"Please enter a valid amount",variant:"destructive"});return}if(!k.categoryId){T({title:"Error",description:"Please select a category",variant:"destructive"});return}S(!0);try{let e={amount:parseFloat(k.amount),type:k.type,description:k.description.trim()||null,merchant:k.merchant.trim()||null,categoryId:k.categoryId,accountNumber:k.accountNumber.trim()||null,transactionId:k.transactionId.trim()||null,date:C.toISOString(),status:"SUCCESS",source:"MANUAL"};console.log("Submitting transaction:",e);let a=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();if(console.log("Response:",s),a.ok)T({title:"Success",description:"Transaction added successfully"}),i(),t(!1),M();else throw Error(s.error||"Failed to create transaction")}catch(e){console.error("Error creating transaction:",e),T({title:"Error",description:e instanceof Error?e.message:"Failed to add transaction",variant:"destructive"})}finally{S(!1)}},M=()=>{I({amount:"",type:"EXPENSE",description:"",merchant:"",categoryId:"",accountNumber:"",transactionId:""}),E(new Date)},D=(e,a)=>{I(t=>({...t,[e]:a}))};return(0,s.jsx)(f.Vq,{open:a,onOpenChange:t,children:(0,s.jsxs)(f.cZ,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(f.fK,{children:[(0,s.jsxs)(f.$N,{className:"flex items-center gap-2 text-slate-900",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:(0,s.jsx)(c.Z,{className:"h-4 w-4 text-white"})}),"Add New Transaction"]}),(0,s.jsx)(f.Be,{className:"text-slate-600",children:"Enter the details of your transaction below."})]}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"amount",className:"form-label",children:"Amount *"}),(0,s.jsx)(u.I,{id:"amount",type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:k.amount,onChange:e=>D("amount",e.target.value),className:"form-input",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"type",className:"form-label",children:"Type *"}),(0,s.jsxs)(p.Ph,{value:k.type,onValueChange:e=>D("type",e),children:[(0,s.jsx)(p.i4,{className:"form-input",children:(0,s.jsx)(p.ki,{})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"INCOME",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),(0,s.jsx)("span",{children:"Income"})]})}),(0,s.jsx)(p.Ql,{value:"EXPENSE",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,s.jsx)("span",{children:"Expense"})]})}),(0,s.jsx)(p.Ql,{value:"TRANSFER",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,s.jsx)("span",{children:"Transfer"})]})})]})]})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"category",className:"form-label",children:"Category *"}),(0,s.jsxs)(p.Ph,{value:k.categoryId,onValueChange:e=>D("categoryId",e),children:[(0,s.jsx)(p.i4,{className:"form-input",children:(0,s.jsx)(p.ki,{placeholder:"Select a category"})}),(0,s.jsx)(p.Bw,{children:o.map(e=>(0,s.jsx)(p.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{children:e.name})]})},e.id))})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"description",className:"form-label",children:"Description"}),(0,s.jsx)(h.g,{id:"description",placeholder:"Enter transaction description...",value:k.description,onChange:e=>D("description",e.target.value),className:"form-input",rows:3})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"merchant",className:"form-label",children:"Merchant"}),(0,s.jsx)(u.I,{id:"merchant",placeholder:"Merchant name",value:k.merchant,onChange:e=>D("merchant",e.target.value),className:"form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"form-label",children:"Date"}),(0,s.jsxs)(j.J2,{children:[(0,s.jsx)(j.xo,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"outline",className:(0,b.cn)("w-full justify-start text-left font-normal form-input",!C&&"text-slate-500"),children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),C?(0,v.WU)(C,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(j.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(g.f,{mode:"single",selected:C,onSelect:e=>e&&E(e),initialFocus:!0})})]})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"accountNumber",className:"form-label",children:"Account Number"}),(0,s.jsx)(u.I,{id:"accountNumber",placeholder:"Last 4 digits",value:k.accountNumber,onChange:e=>D("accountNumber",e.target.value),className:"form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"transactionId",className:"form-label",children:"Transaction ID"}),(0,s.jsx)(u.I,{id:"transactionId",placeholder:"Transaction reference",value:k.transactionId,onChange:e=>D("transactionId",e.target.value),className:"form-input"})]})]}),(0,s.jsxs)(f.cN,{className:"gap-2",children:[(0,s.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,className:"professional-button-secondary",children:"Cancel"}),(0,s.jsxs)(l.z,{type:"submit",disabled:m,className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[m&&(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Transaction"]})]})]})]})})}var C=t(9026),E=t(1789),k=t(4585);let I=r.forwardRef((e,a)=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...l}=e;return(0,s.jsx)(k.f,{ref:a,decorative:n,orientation:r,className:(0,b.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...l})});I.displayName=k.f.displayName;var T=t(9788),Z=t(8418),_=t(2829),M=t(6667),D=t(4101),O=t(2507);function F(e){let a,{open:t,onOpenChange:c,onTransactionAdded:o}=e,[d,m]=(0,r.useState)([]),[u,g]=(0,r.useState)(""),[j,v]=(0,r.useState)(null),[b,S]=(0,r.useState)(!1),[k,F]=(0,r.useState)(!1),[A,R]=(0,r.useState)("input"),{toast:z}=(0,w.pm)();(0,r.useEffect)(()=>{t&&(P(),B())},[t]);let P=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let a=await e.json();m(a)}}catch(e){console.error("Error fetching categories:",e)}},B=()=>{g(""),v(null),R("input")},V=async()=>{if(!u.trim()){z({title:"Error",description:"Please enter SMS or email text to parse",variant:"destructive"});return}S(!0);try{let e=await fetch("/api/transactions/parse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageText:u.trim()})});if(e.ok){let a=await e.json();v(a),R("review")}else{let a=await e.json();z({title:"Parsing Failed",description:a.error||"Could not parse the transaction from the provided text",variant:"destructive"})}}catch(e){z({title:"Error",description:"Failed to parse transaction",variant:"destructive"})}finally{S(!1)}},Y=async()=>{if(j){F(!0);try{if((await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:j.amount,type:j.type,description:j.description,merchant:j.merchant,categoryId:j.categoryId,accountNumber:j.accountNumber,transactionId:j.transactionId,date:j.date,balance:j.balance,status:j.status,source:u.toLowerCase().includes("@")?"EMAIL":"SMS",rawMessage:j.rawMessage})})).ok)o(),c(!1);else throw Error("Failed to save transaction")}catch(e){z({title:"Error",description:"Failed to save transaction",variant:"destructive"})}finally{F(!1)}}};return(0,s.jsx)(f.Vq,{open:t,onOpenChange:c,children:(0,s.jsxs)(f.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(f.fK,{children:[(0,s.jsxs)(f.$N,{className:"flex items-center",children:[(0,s.jsx)(T.Z,{className:"mr-2 h-5 w-5 text-purple-600"}),"Parse SMS/Email Transaction"]}),(0,s.jsx)(f.Be,{children:"Paste your bank SMS or email text below to automatically extract transaction details."})]}),"input"===A&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"messageText",children:"SMS/Email Text"}),(0,s.jsx)(h.g,{id:"messageText",placeholder:"Paste your bank SMS or email text here...",value:u,onChange:e=>g(e.target.value),rows:6,className:"resize-none"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(x._,{className:"text-sm font-medium",children:"Sample Messages (click to use):"}),(0,s.jsx)("div",{className:"space-y-2",children:["HDFC Bank Alert: Rs. 500.00 debited from your A/c ending 1234 on 01-05-2025 14:30. Txn ID: 1234567890. Status: Success.","PhonePe Alert: Rs. 250 debited from your bank account ending 4321 on 01-05-2025 14:30. Txn ID: 1122334455. Status: Success.","INR 2000 debited from A/c no. XX3423 on 05-02-19 07:27:11 IST at ECS PAY. Avl Bal- INR 2343.23."].map((e,a)=>(0,s.jsx)(C.Zb,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>g(e),children:(0,s.jsx)(C.aY,{className:"p-3",children:(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono leading-relaxed",children:e})})},a))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(Z.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"SMS"})]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(_.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Email"})]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Supports major Indian banks & UPI platforms"})]})]}),"review"===A&&j&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(M.Z,{className:"h-5 w-5 text-green-600"}),(0,s.jsx)("span",{className:"font-medium",children:"Transaction Parsed Successfully"})]}),(0,s.jsxs)(C.Zb,{children:[(0,s.jsx)(C.Ol,{children:(0,s.jsx)(C.ll,{className:"text-lg",children:"Transaction Details"})}),(0,s.jsxs)(C.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-lg font-semibold",children:(a=j.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Type"}),(0,s.jsx)(E.C,{className:(e=>{switch(e){case"INCOME":return"bg-green-100 text-green-800";case"EXPENSE":return"bg-red-100 text-red-800";case"TRANSFER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(j.type),children:j.type})]})]}),(0,s.jsx)(I,{}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4 text-gray-600"}),(0,s.jsx)("span",{children:new Date(j.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,s.jsx)(E.C,{variant:"outline",className:"bg-green-50 text-green-700",children:j.status})]})]}),(j.merchant||j.description)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),(0,s.jsx)("p",{className:"text-sm",children:j.description||j.merchant})]})]}),(j.accountNumber||j.transactionId||j.platform)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[j.accountNumber&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Account"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D.Z,{className:"h-4 w-4 text-gray-600"}),(0,s.jsxs)("span",{className:"text-sm",children:["****",j.accountNumber]})]})]}),j.transactionId&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Txn ID"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(O.Z,{className:"h-4 w-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm font-mono",children:j.transactionId})]})]}),j.platform&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{className:"text-sm font-medium text-muted-foreground",children:"Platform"}),(0,s.jsx)(E.C,{variant:"outline",children:j.platform})]})]})]}),(0,s.jsx)(I,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x._,{htmlFor:"category",children:"Category"}),(0,s.jsxs)(p.Ph,{value:j.categoryId,onValueChange:e=>{if(j){let a=d.find(a=>a.id===e);v({...j,categoryId:e,suggestedCategory:(null==a?void 0:a.name)||"Others"})}},children:[(0,s.jsx)(p.i4,{children:(0,s.jsx)(p.ki,{})}),(0,s.jsx)(p.Bw,{children:d.map(e=>(0,s.jsx)(p.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{children:e.name}),e.name===j.suggestedCategory&&(0,s.jsx)(E.C,{variant:"secondary",className:"ml-2 text-xs",children:"Suggested"})]})},e.id))})]})]})]})]})]}),(0,s.jsxs)(f.cN,{children:["input"===A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:b,children:"Cancel"}),(0,s.jsxs)(l.z,{onClick:V,disabled:b||!u.trim(),children:[b&&(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Parse Transaction"]})]}),"review"===A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>R("input"),disabled:k,children:"Back"}),(0,s.jsxs)(l.z,{onClick:Y,disabled:k,children:[k&&(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Transaction"]})]})]})]})})}var A=t(3607),R=t(1722),z=t(5541),P=t(7619),B=t(7673);function V(e){let{view:a,onViewChange:t,year:r,onYearChange:n,month:i,onMonthChange:c}=e,o=new Date().getFullYear(),d=new Date().getMonth()+1,m=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],u=Array.from({length:10},(e,a)=>o-a);return(0,s.jsx)(C.Zb,{className:"professional-card",children:(0,s.jsx)(C.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5 text-professional-blue"}),(0,s.jsx)("span",{className:"font-medium text-slate-900",children:"View:"})]}),(0,s.jsx)(A.mQ,{value:a,onValueChange:e=>t(e),children:(0,s.jsxs)(A.dr,{className:"grid w-full grid-cols-2",children:[(0,s.jsxs)(A.SP,{value:"monthly",className:"flex items-center gap-2",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),"Monthly"]}),(0,s.jsxs)(A.SP,{value:"yearly",className:"flex items-center gap-2",children:[(0,s.jsx)(z.Z,{className:"h-4 w-4"}),"Yearly"]})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["monthly"===a&&(0,s.jsxs)(p.Ph,{value:null==i?void 0:i.toString(),onValueChange:e=>c(parseInt(e)),children:[(0,s.jsx)(p.i4,{className:"w-[140px] form-input",children:(0,s.jsx)(p.ki,{placeholder:"Month"})}),(0,s.jsx)(p.Bw,{children:m.map(e=>(0,s.jsx)(p.Ql,{value:e.value.toString(),children:e.label},e.value))})]}),(0,s.jsxs)(p.Ph,{value:r.toString(),onValueChange:e=>n(parseInt(e)),children:[(0,s.jsx)(p.i4,{className:"w-[100px] form-input",children:(0,s.jsx)(p.ki,{placeholder:"Year"})}),(0,s.jsx)(p.Bw,{children:u.map(e=>(0,s.jsx)(p.Ql,{value:e.toString(),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.z,{onClick:()=>{"monthly"===a?1===i?(c(12),n(r-1)):c((i||1)-1):n(r-1)},variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:(0,s.jsx)(P.Z,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"px-4 py-2 bg-slate-100 rounded-md text-sm font-medium text-slate-900 min-w-[120px] text-center",children:(()=>{if("monthly"===a&&i){var e;return"".concat(null===(e=m.find(e=>e.value===i))||void 0===e?void 0:e.label," ").concat(r)}return r.toString()})()}),(0,s.jsx)(l.z,{onClick:()=>{"monthly"===a?12===i?(c(1),n(r+1)):c((i||1)+1):n(r+1)},variant:"outline",size:"sm",disabled:!("monthly"===a?!(r===o&&(i||1)>=d):r<o),className:"border-slate-300 text-slate-600 hover:bg-slate-50 disabled:opacity-50",children:(0,s.jsx)(B.Z,{className:"h-4 w-4"})})]})]})]})})})}function Y(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,b.cn)("animate-pulse rounded-md bg-muted",a),...t})}var U=t(7688),L=t(9461),Q=t(4207),J=t(9181),G=t(8399),X=t(7076);function W(e){let{year:a,month:t,view:l}=e,[i,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m()},[a,t,l]);let m=async()=>{try{d(!0);let e=new URLSearchParams({year:a.toString()});t&&"monthly"===l&&e.append("month",t.toString());let s=await fetch("/api/transactions/summary?".concat(e));if(s.ok){let e=await s.json();c(e)}}catch(e){console.error("Error fetching summary:",e)}finally{d(!1)}};if(o)return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)(C.Zb,{className:"professional-card",children:[(0,s.jsxs)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(Y,{className:"h-4 w-24"}),(0,s.jsx)(Y,{className:"h-8 w-8 rounded-lg"})]}),(0,s.jsxs)(C.aY,{children:[(0,s.jsx)(Y,{className:"h-8 w-32"}),(0,s.jsx)(Y,{className:"h-4 w-20 mt-2"})]})]},a))});if(!i)return(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-slate-600",children:"Failed to load summary data"})});let u=[{title:"Total Income",value:i.totalIncome,count:i.incomeTransactions,icon:U.Z,color:"emerald",bgColor:"bg-emerald-100",textColor:"text-emerald-600",trend:"positive"},{title:"Total Expenses",value:i.totalExpense,count:i.expenseTransactions,icon:L.Z,color:"red",bgColor:"bg-red-100",textColor:"text-red-600",trend:"negative"},{title:"Net Balance",value:Math.abs(i.netBalance),count:null,icon:i.netBalance>=0?Q.Z:J.Z,color:i.netBalance>=0?"emerald":"red",bgColor:i.netBalance>=0?"bg-emerald-100":"bg-red-100",textColor:i.netBalance>=0?"text-emerald-600":"text-red-600",trend:i.netBalance>=0?"positive":"negative"},{title:"Total Transactions",value:i.totalTransactions,count:null,icon:G.Z,color:"blue",bgColor:"bg-blue-100",textColor:"text-professional-blue",trend:"neutral"}];return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:(0,s.jsx)(y.Z,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-slate-900",children:["monthly"===l&&t?"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t-1]," ").concat(a):"Year ".concat(a)," Summary"]}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Financial overview for the selected period"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((e,a)=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},children:(0,s.jsxs)(C.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(C.ll,{className:"text-sm font-medium text-slate-600",children:e.title}),(0,s.jsx)("div",{className:"p-2 ".concat(e.bgColor," rounded-lg"),children:(0,s.jsx)(e.icon,{className:"h-4 w-4 ".concat(e.textColor)})})]}),(0,s.jsxs)(C.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold ".concat(e.textColor),children:"Total Transactions"===e.title?e.value.toLocaleString():(0,X.xG)(e.value)}),null!==e.count&&(0,s.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:[e.count," transaction",1!==e.count?"s":""]}),"Net Balance"===e.title&&(0,s.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:i.netBalance>=0?"Surplus":"Deficit"})]})]})},e.title))})]})}var $=t(9947),q=t(6185),H=t(9078);let K=(0,$.default)(()=>t.e(432).then(t.bind(t,432)).then(e=>e.Line),{loadableGenerated:{webpack:()=>[null]},ssr:!1,loading:()=>(0,s.jsx)(ea,{})}),ee=(0,$.default)(()=>t.e(432).then(t.bind(t,432)).then(e=>e.Doughnut),{loadableGenerated:{webpack:()=>[null]},ssr:!1,loading:()=>(0,s.jsx)(ea,{})});function ea(){return(0,s.jsx)("div",{className:"h-[300px] w-full flex items-center justify-center",children:(0,s.jsx)(Y,{className:"h-full w-full rounded-lg"})})}function et(e){let{year:a,month:t}=e,[n,l]=(0,r.useState)([]),[i,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m()},[a,t]);let m=async()=>{try{d(!0);let e=new URLSearchParams({year:a.toString()});t&&e.append("month",t.toString());let s=await fetch("/api/transactions/analytics?".concat(e));if(s.ok){let e=await s.json();l(e.monthlyTrends||[]),c(e.categoryBreakdown||[])}}catch(e){console.error("Error fetching analytics:",e)}finally{d(!1)}},u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x={labels:n.map(e=>u[e.month-1]),datasets:[{label:"Income",data:n.map(e=>parseFloat(e.income.toString())),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0},{label:"Expenses",data:n.map(e=>parseFloat(e.expense.toString())),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0}]},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"".concat(t?"Monthly Trends for ".concat(u[t-1]," ").concat(a):"Monthly Trends for ".concat(a))},tooltip:{callbacks:{label:function(e){return"".concat(e.dataset.label,": ").concat((0,X.xG)(e.parsed.y))}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return(0,X.xG)(e)}}}}},p=i.filter(e=>"EXPENSE"===e.transaction_type),f=i.filter(e=>"INCOME"===e.transaction_type),g={labels:p.map(e=>e.category_name),datasets:[{data:p.map(e=>parseFloat(e.total_amount.toString())),backgroundColor:p.map(e=>e.category_color||"#3B82F6"),borderWidth:2,borderColor:"#ffffff"}]},j={labels:f.map(e=>e.category_name),datasets:[{data:f.map(e=>parseFloat(e.total_amount.toString())),backgroundColor:f.map(e=>e.category_color||"#10B981"),borderWidth:2,borderColor:"#ffffff"}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(e){let a=e.dataset.data.reduce((e,a)=>e+a,0),t=(e.parsed/a*100).toFixed(1);return"".concat(e.label,": ").concat((0,X.xG)(e.parsed)," (").concat(t,"%)")}}}}};return o?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(C.Zb,{className:"professional-card",children:[(0,s.jsx)(C.Ol,{children:(0,s.jsx)(Y,{className:"h-6 w-48"})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)(ea,{})})]}),(0,s.jsxs)(C.Zb,{className:"professional-card",children:[(0,s.jsx)(C.Ol,{children:(0,s.jsx)(Y,{className:"h-6 w-48"})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)(ea,{})})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(C.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsx)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(C.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(U.Z,{className:"h-4 w-4 text-professional-blue"})}),"Income vs Expenses"]})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:n.length>0?(0,s.jsx)(K,{data:x,options:h}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-slate-500",children:"No data available for the selected period"})})})]}),(0,s.jsxs)(C.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsx)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(C.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,s.jsx)(q.Z,{className:"h-4 w-4 text-red-600"})}),"Expense Categories"]})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:p.length>0?(0,s.jsx)(ee,{data:g,options:y}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-slate-500",children:"No expense data available for the selected period"})})})]}),f.length>0&&(0,s.jsxs)(C.Zb,{className:"professional-card hover-shadow lg:col-span-2",children:[(0,s.jsx)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(C.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-emerald-100 rounded-lg",children:(0,s.jsx)(q.Z,{className:"h-4 w-4 text-emerald-600"})}),"Income Categories"]})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(ee,{data:j,options:y})})})]})]})}H.kL.register(H.uw,H.f$,H.od,H.jn,H.Dx,H.u,H.De,H.qi);var es=t(8238),er=t(2284),en=t(3472);function el(e){var a;let{searchTerm:t,onSearchChange:n,selectedCategory:i,onCategoryChange:c,selectedType:d,onTypeChange:m,dateRange:x,onDateRangeChange:h,sortBy:f,onSortChange:N,sortOrder:b,onSortOrderChange:w,categories:S,onClearFilters:k}=e,[I,T]=(0,r.useState)(!1),Z=t||"all"!==i||"all"!==d||x.from||x.to,_=(e,a)=>{"from"===a?h({...x,from:e}):h({...x,to:e})},M=()=>{h({from:void 0,to:void 0})};return(0,s.jsx)(C.Zb,{className:"professional-card",children:(0,s.jsx)(C.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,s.jsx)(u.I,{placeholder:"Search transactions, merchants, descriptions...",value:t,onChange:e=>n(e.target.value),className:"pl-10 form-input"})]}),Z&&(0,s.jsxs)(l.z,{onClick:k,variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[(0,s.jsx)(es.Z,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)(p.Ph,{value:i,onValueChange:c,children:[(0,s.jsx)(p.i4,{className:"form-input",children:(0,s.jsx)(p.ki,{placeholder:"Category"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"all",children:"All Categories"}),S.map(e=>(0,s.jsx)(p.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{children:e.name})]})},e.id))]})]}),(0,s.jsxs)(p.Ph,{value:d,onValueChange:m,children:[(0,s.jsx)(p.i4,{className:"form-input",children:(0,s.jsx)(p.ki,{placeholder:"Type"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"all",children:"All Types"}),(0,s.jsx)(p.Ql,{value:"INCOME",children:"Income"}),(0,s.jsx)(p.Ql,{value:"EXPENSE",children:"Expense"}),(0,s.jsx)(p.Ql,{value:"TRANSFER",children:"Transfer"})]})]}),(0,s.jsxs)(j.J2,{open:I,onOpenChange:T,children:[(0,s.jsx)(j.xo,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"outline",className:"form-input justify-start text-left font-normal",children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),x.from?x.to?(0,s.jsxs)(s.Fragment,{children:[(0,v.WU)(x.from,"MMM dd")," - ",(0,v.WU)(x.to,"MMM dd")]}):(0,v.WU)(x.from,"MMM dd, yyyy"):(0,s.jsx)("span",{children:"Date range"})]})}),(0,s.jsx)(j.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h4",{className:"font-semibold",children:"Select Date Range"}),(x.from||x.to)&&(0,s.jsx)(l.z,{onClick:M,variant:"ghost",size:"sm",className:"h-auto p-1",children:(0,s.jsx)(es.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:"From"}),(0,s.jsx)(g.f,{mode:"single",selected:x.from,onSelect:e=>_(e,"from"),disabled:e=>e>new Date||!!x.to&&e>x.to,initialFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:"To"}),(0,s.jsx)(g.f,{mode:"single",selected:x.to,onSelect:e=>_(e,"to"),disabled:e=>e>new Date||!!x.from&&e<x.from})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.z,{onClick:()=>T(!1),size:"sm",children:"Done"})})]})})]}),(0,s.jsxs)(p.Ph,{value:f,onValueChange:N,children:[(0,s.jsx)(p.i4,{className:"form-input",children:(0,s.jsx)(p.ki,{placeholder:"Sort by"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"date",children:"Date"}),(0,s.jsx)(p.Ql,{value:"amount",children:"Amount"}),(0,s.jsx)(p.Ql,{value:"description",children:"Description"}),(0,s.jsx)(p.Ql,{value:"category",children:"Category"}),(0,s.jsx)(p.Ql,{value:"merchant",children:"Merchant"})]})]}),(0,s.jsxs)(l.z,{onClick:()=>w("asc"===b?"desc":"asc"),variant:"outline",className:"form-input justify-center",children:["asc"===b?(0,s.jsx)(er.Z,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(en.Z,{className:"h-4 w-4 mr-2"}),"asc"===b?"Ascending":"Descending"]})]}),Z&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Active filters:"}),t&&(0,s.jsxs)(E.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["Search: ",t,(0,s.jsx)(es.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>n("")})]}),"all"!==i&&(0,s.jsxs)(E.C,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:["Category: ",null===(a=S.find(e=>e.id===i))||void 0===a?void 0:a.name,(0,s.jsx)(es.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>c("all")})]}),"all"!==d&&(0,s.jsxs)(E.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:["Type: ",d,(0,s.jsx)(es.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>m("all")})]}),(x.from||x.to)&&(0,s.jsxs)(E.C,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:["Date: ",x.from?(0,v.WU)(x.from,"MMM dd"):"Start"," - ",x.to?(0,v.WU)(x.to,"MMM dd"):"End",(0,s.jsx)(es.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:M})]})]})]})})})}var ei=t(4790);function ec(e){let{year:a,month:t,searchTerm:o,selectedCategory:d,selectedType:m,dateRange:u,sortBy:x,sortOrder:h,onAddTransaction:p}=e,[f,g]=(0,r.useState)([]),[j,v]=(0,r.useState)(!0),[b,S]=(0,r.useState)({page:1,limit:20,total:0,pages:0}),{toast:k}=(0,w.pm)();(0,r.useEffect)(()=>{I()},[a,t,o,d,m,u,x,h,b.page]);let I=async()=>{try{v(!0);let e=new URLSearchParams({page:b.page.toString(),limit:b.limit.toString(),sortBy:x,sortOrder:h});a&&e.append("year",a.toString()),t&&e.append("month",t.toString()),o&&e.append("search",o),"all"!==d&&e.append("categoryId",d),"all"!==m&&e.append("type",m),u.from&&e.append("startDate",u.from.toISOString()),u.to&&e.append("endDate",u.to.toISOString());let s=await fetch("/api/transactions?".concat(e));if(s.ok){let e=await s.json();g(e.transactions||[]),S(a=>({...a,total:e.pagination.total,pages:e.pagination.pages}))}else console.error("Failed to fetch transactions:",s.status),k({title:"Error",description:"Failed to load transactions",variant:"destructive"})}catch(e){console.error("Error fetching transactions:",e),k({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{v(!1)}},T=e=>{S(a=>({...a,page:e}))},Z=e=>{switch(e){case"INCOME":return(0,s.jsx)(Q.Z,{className:"h-4 w-4 text-emerald-600"});case"EXPENSE":return(0,s.jsx)(J.Z,{className:"h-4 w-4 text-red-600"});default:return(0,s.jsx)(i.Z,{className:"h-4 w-4 text-professional-blue"})}},_=e=>{switch(e){case"INCOME":return"text-emerald-600";case"EXPENSE":return"text-red-600";default:return"text-professional-blue"}},M=e=>{let a=(0,X.xG)(e.amount);return"INCOME"===e.type?"+".concat(a):"-".concat(a)},D=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return j&&1===b.page?(0,s.jsxs)(C.Zb,{className:"professional-card",children:[(0,s.jsx)(C.Ol,{children:(0,s.jsx)(Y,{className:"h-6 w-48"})}),(0,s.jsx)(C.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(Y,{className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(Y,{className:"h-4 w-48"}),(0,s.jsx)(Y,{className:"h-3 w-32"})]})]}),(0,s.jsxs)("div",{className:"text-right space-y-2",children:[(0,s.jsx)(Y,{className:"h-5 w-24"}),(0,s.jsx)(Y,{className:"h-4 w-16"})]})]},a))})})]}):(0,s.jsxs)(C.Zb,{className:"professional-card",children:[(0,s.jsxs)(C.Ol,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,s.jsxs)(C.ll,{className:"text-slate-900 flex items-center gap-2",children:[(0,s.jsx)(G.Z,{className:"h-5 w-5 text-professional-blue"}),"Transactions (",b.total.toLocaleString(),")"]}),j&&b.page>1&&(0,s.jsx)(N.Z,{className:"h-4 w-4 animate-spin text-professional-blue"})]}),(0,s.jsx)(C.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:0===f.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(i.Z,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No transactions found"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:o||"all"!==d||"all"!==m||u.from||u.to?"Try adjusting your filters to see more results":"Start by adding your first transaction"}),(0,s.jsxs)(l.z,{onClick:p,className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei.M,{mode:"wait",children:(0,s.jsx)("div",{className:"space-y-3",children:f.map((e,a)=>(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},className:"group flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-all duration-200 hover-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-slate-100 group-hover:bg-white transition-colors",children:Z(e.type)}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 truncate",children:e.description||"No description"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[e.merchant&&(0,s.jsx)("span",{className:"text-sm text-slate-600 truncate",children:e.merchant}),e.category&&(0,s.jsx)(E.C,{variant:"secondary",className:"text-xs px-2 py-1",style:{backgroundColor:e.category.color+"20",color:e.category.color,border:"1px solid ".concat(e.category.color,"30")},children:e.category.name})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),D(e.date)]}),(0,s.jsx)("span",{children:O(e.date)}),e.transactionId&&(0,s.jsxs)("span",{className:"font-mono",children:["ID: ",e.transactionId.slice(-6)]})]})]})})})]}),(0,s.jsxs)("div",{className:"text-right ml-4",children:[(0,s.jsx)("div",{className:"text-lg font-bold ".concat(_(e.type)),children:M(e)}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 mt-1",children:[(0,s.jsx)(E.C,{variant:"SUCCESS"===e.status?"default":"destructive",className:"text-xs ".concat("SUCCESS"===e.status?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-red-100 text-red-800 border-red-200"),children:e.status}),"MANUAL"!==e.source&&(0,s.jsx)(E.C,{variant:"outline",className:"text-xs",children:e.source})]})]})]},"".concat(e.id,"-").concat(b.page)))})}),b.pages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-slate-200",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",(b.page-1)*b.limit+1," to"," ",Math.min(b.page*b.limit,b.total)," of"," ",b.total.toLocaleString()," transactions"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(l.z,{onClick:()=>T(b.page-1),disabled:1===b.page||j,variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[(0,s.jsx)(P.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,b.pages)},(e,a)=>{let t;return t=b.pages<=5?a+1:b.page<=3?a+1:b.page>=b.pages-2?b.pages-4+a:b.page-2+a,(0,s.jsx)(l.z,{onClick:()=>T(t),disabled:j,variant:b.page===t?"default":"outline",size:"sm",className:"w-8 h-8 p-0 ".concat(b.page===t?"bg-professional-blue text-white":"border-slate-300 text-slate-600 hover:bg-slate-50"),children:t},t)})}),(0,s.jsxs)(l.z,{onClick:()=>T(b.page+1),disabled:b.page===b.pages||j,variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:["Next",(0,s.jsx)(B.Z,{className:"h-4 w-4 ml-1"})]})]})]})]})})})]})}function eo(){let[e,a]=(0,r.useState)("monthly"),[t,u]=(0,r.useState)(new Date().getFullYear()),[x,h]=(0,r.useState)(new Date().getMonth()+1),[p,f]=(0,r.useState)(""),[g,j]=(0,r.useState)("all"),[y,N]=(0,r.useState)("all"),[v,b]=(0,r.useState)({}),[C,E]=(0,r.useState)("date"),[k,I]=(0,r.useState)("desc"),[T,Z]=(0,r.useState)(!1),[_,M]=(0,r.useState)(!1),[D,O]=(0,r.useState)([]),[A,R]=(0,r.useState)(0),{toast:z}=(0,w.pm)();(0,r.useEffect)(()=>{P()},[]);let P=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let a=await e.json();O(a)}else console.error("Failed to fetch categories:",e.status)}catch(e){console.error("Error fetching categories:",e)}},B=()=>{R(e=>e+1),Z(!1),M(!1),z({title:"Success",description:"Transaction added successfully"})},Y=async()=>{try{let a=new URLSearchParams;"monthly"===e&&x?(a.append("year",t.toString()),a.append("month",x.toString())):a.append("year",t.toString()),"all"!==g&&a.append("categoryId",g),"all"!==y&&a.append("type",y),p&&a.append("search",p),v.from&&a.append("startDate",v.from.toISOString()),v.to&&a.append("endDate",v.to.toISOString());let s=await fetch("/api/transactions/export?".concat(a));if(!s.ok)throw Error("Export failed");let r=await s.blob(),n=window.URL.createObjectURL(r),l=document.createElement("a");l.href=n;let i="monthly"===e&&x?"".concat(t,"-").concat(x.toString().padStart(2,"0")):t.toString();l.download="transactions-".concat(i,".csv"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),document.body.removeChild(l),z({title:"Success",description:"Transactions exported successfully"})}catch(e){z({title:"Error",description:"Failed to export transactions",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:(0,s.jsx)(i.Z,{className:"h-6 w-6 text-white"})}),"Transaction Analytics"]}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Comprehensive view of your financial transactions with insights and analytics"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.z,{onClick:()=>Z(!0),className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Add Transaction"]}),(0,s.jsxs)(l.z,{onClick:()=>M(!0),variant:"outline",className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Parse SMS"]}),(0,s.jsxs)(l.z,{onClick:Y,variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,s.jsx)(V,{view:e,onViewChange:e=>{a(e),b({})},year:t,onYearChange:u,month:"monthly"===e?x:void 0,onMonthChange:h}),(0,s.jsx)(W,{year:t,month:"monthly"===e?x:void 0,view:e},"".concat(e,"-").concat(t,"-").concat(x,"-").concat(A)),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:(0,s.jsx)(m.Z,{className:"h-5 w-5 text-white"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Financial Insights"})]}),(0,s.jsx)(et,{year:t,month:"monthly"===e?x:void 0},"charts-".concat(e,"-").concat(t,"-").concat(x,"-").concat(A))]}),(0,s.jsx)(el,{searchTerm:p,onSearchChange:f,selectedCategory:g,onCategoryChange:j,selectedType:y,onTypeChange:N,dateRange:v,onDateRangeChange:b,sortBy:C,onSortChange:E,sortOrder:k,onSortOrderChange:I,categories:D,onClearFilters:()=>{f(""),j("all"),N("all"),b({}),E("date"),I("desc")}}),(0,s.jsx)(ec,{year:t,month:"monthly"===e?x:void 0,searchTerm:p,selectedCategory:g,selectedType:y,dateRange:v,sortBy:C,sortOrder:k,onAddTransaction:()=>Z(!0)},"list-".concat(e,"-").concat(t,"-").concat(x,"-").concat(p,"-").concat(g,"-").concat(y,"-").concat(C,"-").concat(k,"-").concat(A))]}),(0,s.jsx)(S,{open:T,onOpenChange:Z,onTransactionAdded:B}),(0,s.jsx)(F,{open:_,onOpenChange:M,onTransactionAdded:B})]})}},1789:function(e,a,t){"use strict";t.d(a,{C:function(){return i}});var s=t(784);t(1960);var r=t(664),n=t(5518);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:t}),a),...r})}},5796:function(e,a,t){"use strict";t.d(a,{d:function(){return c},z:function(){return o}});var s=t(784),r=t(1960),n=t(2310),l=t(664),i=t(5518);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:o=!1,...d}=e,m=o?n.g7:"button";return(0,s.jsx)(m,{className:(0,i.cn)(c({variant:r,size:l,className:t})),ref:a,...d})});o.displayName="Button"},3686:function(e,a,t){"use strict";t.d(a,{f:function(){return o}});var s=t(784);t(1960);var r=t(7619),n=t(7673),l=t(8001),i=t(5518),c=t(5796);function o(e){let{className:a,classNames:t,showOutsideDays:o=!0,...d}=e;return(0,s.jsx)(l._W,{showOutsideDays:o,className:(0,i.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,c.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,c.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...a}=e;return(0,s.jsx)(r.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...a}=e;return(0,s.jsx)(n.Z,{className:"h-4 w-4"})}},...d})}o.displayName="Calendar"},9026:function(e,a,t){"use strict";t.d(a,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var s=t(784),r=t(1960),n=t(5518);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},5913:function(e,a,t){"use strict";t.d(a,{$N:function(){return h},Be:function(){return p},Vq:function(){return c},cN:function(){return x},cZ:function(){return m},fK:function(){return u}});var s=t(784),r=t(1960),n=t(9768),l=t(8238),i=t(5518);let c=n.fC;n.xz;let o=n.h_;n.x8;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});d.displayName=n.aV.displayName;let m=r.forwardRef((e,a)=>{let{className:t,children:r,...c}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(n.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[r,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let u=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};u.displayName="DialogHeader";let x=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};x.displayName="DialogFooter";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=n.Dx.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=n.dk.displayName},3718:function(e,a,t){"use strict";t.d(a,{I:function(){return l}});var s=t(784),r=t(1960),n=t(5518);let l=r.forwardRef((e,a)=>{let{className:t,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})});l.displayName="Input"},7237:function(e,a,t){"use strict";t.d(a,{_:function(){return o}});var s=t(784),r=t(1960),n=t(4506),l=t(664),i=t(5518);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.f,{ref:a,className:(0,i.cn)(c(),t),...r})});o.displayName=n.f.displayName},2841:function(e,a,t){"use strict";t.d(a,{J2:function(){return i},xo:function(){return c},yk:function(){return o}});var s=t(784),r=t(1960),n=t(4543),l=t(5518);let i=n.fC,c=n.xz,o=r.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:i=4,...c}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:a,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...c})})});o.displayName=n.VY.displayName},9175:function(e,a,t){"use strict";t.d(a,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return f},i4:function(){return u},ki:function(){return m}});var s=t(784),r=t(1960),n=t(18),l=t(8787),i=t(6026),c=t(9568),o=t(5518);let d=n.fC;n.ZA;let m=n.B4,u=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(n.xz,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[r,(0,s.jsx)(n.JO,{asChild:!0,children:(0,s.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=n.u_.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=n.$G.displayName;let p=r.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsxs)(n.VY,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,s.jsx)(x,{}),(0,s.jsx)(n.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(h,{})]})})});p.displayName=n.VY.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.__.displayName;let f=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(n.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(n.eT,{children:r})]})});f.displayName=n.ck.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.Z0.displayName},3607:function(e,a,t){"use strict";t.d(a,{SP:function(){return o},dr:function(){return c},mQ:function(){return i},nU:function(){return d}});var s=t(784),r=t(1960),n=t(9944),l=t(5518);let i=n.fC,c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.aV,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=n.aV.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});o.displayName=n.xz.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});d.displayName=n.VY.displayName},3078:function(e,a,t){"use strict";t.d(a,{g:function(){return l}});var s=t(784),r=t(1960),n=t(5518);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});l.displayName="Textarea"},8926:function(e,a,t){"use strict";t.d(a,{pm:function(){return u}});var s=t(1960);let r=0,n=new Map,l=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},c=[],o={toasts:[]};function d(e){o=i(o,e),c.forEach(e=>{e(o)})}function m(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=s.useState(o);return s.useEffect(()=>(c.push(a),()=>{let e=c.indexOf(a);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7076:function(e,a,t){"use strict";function s(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}t.d(a,{xG:function(){return s}})},5518:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var s=t(3201),r=t(3298);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}}},function(e){e.O(0,[460,374,862,849,994,510,427,275,744],function(){return e(e.s=4527)}),_N_E=e.O()}]);