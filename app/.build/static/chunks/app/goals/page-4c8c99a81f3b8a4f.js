(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{3689:function(e,a,t){Promise.resolve().then(t.bind(t,4430))},4430:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var s=t(784),l=t(1960),r=t(1555),n=t(9026),i=t(5796),o=t(1789),c=t(9699),d=t(4705),x=t(7675),m=t(7688),u=t(8232),h=t(7076),g=t(5913),p=t(3718),j=t(7237),f=t(3078),y=t(9175),v=t(5593),b=t(6117);function N(e){let{open:a,onOpenChange:t,onGoalAdded:r}=e,[n,o]=(0,l.useState)({name:"",description:"",goalType:"",targetAmount:"",targetDate:"",categoryId:""}),[c,d]=(0,l.useState)([]),[x,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a&&u()},[a]);let u=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let a=await e.json();d(a)}}catch(e){console.error("Error fetching categories:",e)}},h=async e=>{if(e.preventDefault(),!n.name||!n.goalType||!n.targetAmount){b.Am.error("Please fill in all required fields");return}m(!0);try{let e={...n,targetAmount:parseFloat(n.targetAmount),categoryId:n.categoryId||null,targetDate:n.targetDate||null},a=await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)b.Am.success("Goal created successfully!"),r(),t(!1),o({name:"",description:"",goalType:"",targetAmount:"",targetDate:"",categoryId:""});else{let e=await a.json();b.Am.error(e.error||"Failed to create goal")}}catch(e){console.error("Error creating goal:",e),b.Am.error("Failed to create goal")}finally{m(!1)}},N=[{value:v.lC.SAVINGS,label:"Savings"},{value:v.lC.EMERGENCY_FUND,label:"Emergency Fund"},{value:v.lC.HOUSE,label:"House"},{value:v.lC.EDUCATION,label:"Education"},{value:v.lC.VACATION,label:"Vacation"},{value:v.lC.RETIREMENT,label:"Retirement"},{value:v.lC.INVESTMENT,label:"Investment"},{value:v.lC.DEBT_PAYOFF,label:"Debt Payoff"},{value:v.lC.OTHER,label:"Other"}];return(0,s.jsx)(g.Vq,{open:a,onOpenChange:t,children:(0,s.jsxs)(g.cZ,{className:"sm:max-w-[500px]",children:[(0,s.jsx)(g.fK,{children:(0,s.jsx)(g.$N,{children:"Add New Financial Goal"})}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"name",children:"Goal Name"}),(0,s.jsx)(p.I,{id:"name",value:n.name,onChange:e=>o({...n,name:e.target.value}),placeholder:"e.g., Emergency Fund, House Down Payment",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"goalType",children:"Goal Type"}),(0,s.jsxs)(y.Ph,{value:n.goalType,onValueChange:e=>o({...n,goalType:e}),required:!0,children:[(0,s.jsx)(y.i4,{children:(0,s.jsx)(y.ki,{placeholder:"Select goal type"})}),(0,s.jsx)(y.Bw,{children:N.map(e=>(0,s.jsx)(y.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"targetAmount",children:"Target Amount (â‚¹)"}),(0,s.jsx)(p.I,{id:"targetAmount",type:"number",value:n.targetAmount,onChange:e=>o({...n,targetAmount:e.target.value}),placeholder:"100000",min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"targetDate",children:"Target Date (Optional)"}),(0,s.jsx)(p.I,{id:"targetDate",type:"date",value:n.targetDate,onChange:e=>o({...n,targetDate:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"categoryId",children:"Category (Optional)"}),(0,s.jsxs)(y.Ph,{value:n.categoryId,onValueChange:e=>o({...n,categoryId:e}),children:[(0,s.jsx)(y.i4,{children:(0,s.jsx)(y.ki,{placeholder:"Select category"})}),(0,s.jsx)(y.Bw,{children:c.map(e=>(0,s.jsx)(y.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"description",children:"Description (Optional)"}),(0,s.jsx)(f.g,{id:"description",value:n.description,onChange:e=>o({...n,description:e.target.value}),placeholder:"Additional details about your goal...",rows:3})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,s.jsx)(i.z,{type:"submit",disabled:x,children:x?"Creating...":"Create Goal"})]})]})]})})}function w(){let[e,a]=(0,l.useState)(null),[t,g]=(0,l.useState)(!0),[p,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f()},[]);let f=async()=>{try{g(!0);let e=await fetch("/api/goals");if(e.ok){let t=await e.json(),s=(null==t?void 0:t.length)||0,l=(null==t?void 0:t.filter(e=>"ACTIVE"===e.status).length)||0,r=(null==t?void 0:t.filter(e=>"COMPLETED"===e.status).length)||0,n=(null==t?void 0:t.reduce((e,a)=>e+a.targetAmount,0))||0,i=(null==t?void 0:t.reduce((e,a)=>e+a.currentAmount,0))||0;a({goals:t||[],stats:{totalGoals:s,targetAmount:n,currentAmount:i,averageProgress:s>0?i/n*100:0,completedGoals:r,activeGoals:l}})}}catch(e){console.error("Error fetching goals data:",e)}finally{g(!1)}};return t?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,s.jsx)("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"h-32 bg-slate-200 rounded"},a))})]})}):e?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:(0,s.jsx)(c.Z,{className:"h-6 w-6 text-white"})}),"Financial Goals"]}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Track your progress towards financial milestones"})]}),(0,s.jsxs)(i.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>j(!0),children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,s.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium text-slate-600",children:"Total Goals"}),(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(c.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-professional-blue",children:e.stats.totalGoals}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-emerald-100 text-emerald-700",children:[e.stats.activeGoals," Active"]}),(0,s.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-slate-100 text-slate-700",children:[e.stats.completedGoals," Completed"]})]})]})]})}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,s.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium text-slate-600",children:"Target Amount"}),(0,s.jsx)("div",{className:"p-2 bg-emerald-100 rounded-lg",children:(0,s.jsx)(x.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:(0,h.xG)(e.stats.targetAmount)}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Total target"})]})]})}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,s.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium text-slate-600",children:"Current Amount"}),(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(m.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-professional-blue",children:(0,h.xG)(e.stats.currentAmount)}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Total saved"})]})]})}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,s.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium text-slate-600",children:"Average Progress"}),(0,s.jsx)("div",{className:"p-2 bg-emerald-100 rounded-lg",children:(0,s.jsx)(u.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:[e.stats.averageProgress.toFixed(1),"%"]}),(0,s.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:(0,s.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(e.stats.averageProgress,100),"%")}})})]})]})})]}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:(0,s.jsxs)(n.Zb,{className:"professional-card",children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)(n.ll,{className:"text-slate-900",children:["Goals (",e.goals.length,")"]})}),(0,s.jsx)(n.aY,{children:0===e.goals.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(c.Z,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No goals found"}),(0,s.jsx)("p",{className:"text-slate-600 mb-4",children:"Start by adding your first financial goal"}),(0,s.jsxs)(i.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>j(!0),children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}):(0,s.jsx)("div",{className:"space-y-4",children:e.goals.map(e=>(0,s.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-slate-100",children:(0,s.jsx)(c.Z,{className:"h-4 w-4 text-professional-blue"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:e.goalType})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-professional-blue",children:[(0,h.xG)(e.currentAmount)," / ",(0,h.xG)(e.targetAmount)]}),(0,s.jsx)(o.C,{variant:"ACTIVE"===e.status?"default":"secondary",children:e.status})]})]}),(0,s.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-professional-blue h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(e.currentAmount/e.targetAmount*100,100),"%")}})}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 mt-2",children:[(0,s.jsxs)("span",{children:[Math.round(e.currentAmount/e.targetAmount*100),"% complete"]}),e.targetDate&&(0,s.jsxs)("span",{children:["Due: ",new Date(e.targetDate).toLocaleDateString()]})]})]},e.id))})})]})})]}),(0,s.jsx)(N,{open:p,onOpenChange:j,onGoalAdded:()=>{j(!1),f()}})]}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Error loading goals"}),(0,s.jsx)("p",{className:"text-slate-600 mt-2",children:"Please try refreshing the page"})]})})}},1789:function(e,a,t){"use strict";t.d(a,{C:function(){return i}});var s=t(784);t(1960);var l=t(664),r=t(5518);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t,...l}=e;return(0,s.jsx)("div",{className:(0,r.cn)(n({variant:t}),a),...l})}},8232:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(6382).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9699:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(6382).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},7688:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(6382).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[813,862,675,819,834,427,275,744],function(){return e(e.s=3689)}),_N_E=e.O()}]);