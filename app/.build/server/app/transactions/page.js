(()=>{var e={};e.id=8220,e.ids=[8220],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3962:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(368),t(7699),t(6289);var s=t(2752),r=t(7380),l=t(459),n=t.n(l),i=t(8119),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let c=["",{children:["transactions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,368)),"/home/ubuntu/moneymitra/app/app/transactions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7699)),"/home/ubuntu/moneymitra/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,6289,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/moneymitra/app/app/transactions/page.tsx"],m="/transactions/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/transactions/page",pathname:"/transactions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8412:(e,a,t)=>{Promise.resolve().then(t.bind(t,5493))},5493:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eC});var s=t(4848),r=t(5642),l=t(9631),n=t(8287),i=t(4955),o=t(1276),c=t(93);let d=(0,c.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),m=(0,c.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var u=t(4501),x=t(5205),h=t(7767),p=t(1262),f=t(2595),g=t(4339),y=t(6765),j=t(5379),v=t(748);let b=(0,c.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var N=t(9902),w=t(5709),k=t(8459);function C({open:e,onOpenChange:a,onTransactionAdded:t}){let[i,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!1),[u,C]=(0,r.useState)(new Date),[S,M]=(0,r.useState)({amount:"",type:"EXPENSE",description:"",merchant:"",categoryId:"",accountNumber:"",transactionId:""}),{toast:E}=(0,k.pm)(),I=async e=>{if(e.preventDefault(),!S.amount||0>=parseFloat(S.amount)){E({title:"Error",description:"Please enter a valid amount",variant:"destructive"});return}if(!S.categoryId){E({title:"Error",description:"Please select a category",variant:"destructive"});return}m(!0);try{let e={amount:parseFloat(S.amount),type:S.type,description:S.description.trim()||null,merchant:S.merchant.trim()||null,categoryId:S.categoryId,accountNumber:S.accountNumber.trim()||null,transactionId:S.transactionId.trim()||null,date:u.toISOString(),status:"SUCCESS",source:"MANUAL"};console.log("Submitting transaction:",e);let s=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();if(console.log("Response:",r),s.ok)E({title:"Success",description:"Transaction added successfully"}),t(),a(!1),R();else throw Error(r.error||"Failed to create transaction")}catch(e){console.error("Error creating transaction:",e),E({title:"Error",description:e instanceof Error?e.message:"Failed to add transaction",variant:"destructive"})}finally{m(!1)}},R=()=>{M({amount:"",type:"EXPENSE",description:"",merchant:"",categoryId:"",accountNumber:"",transactionId:""}),C(new Date)},T=(e,a)=>{M(t=>({...t,[e]:a}))};return s.jsx(g.Vq,{open:e,onOpenChange:a,children:(0,s.jsxs)(g.cZ,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(g.fK,{children:[(0,s.jsxs)(g.$N,{className:"flex items-center gap-2 text-slate-900",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:s.jsx(o.Z,{className:"h-4 w-4 text-white"})}),"Add New Transaction"]}),s.jsx(g.Be,{className:"text-slate-600",children:"Enter the details of your transaction below."})]}),(0,s.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"amount",className:"form-label",children:"Amount *"}),s.jsx(x.I,{id:"amount",type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:S.amount,onChange:e=>T("amount",e.target.value),className:"form-input",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"type",className:"form-label",children:"Type *"}),(0,s.jsxs)(f.Ph,{value:S.type,onValueChange:e=>T("type",e),children:[s.jsx(f.i4,{className:"form-input",children:s.jsx(f.ki,{})}),(0,s.jsxs)(f.Bw,{children:[s.jsx(f.Ql,{value:"INCOME",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),s.jsx("span",{children:"Income"})]})}),s.jsx(f.Ql,{value:"EXPENSE",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("span",{children:"Expense"})]})}),s.jsx(f.Ql,{value:"TRANSFER",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{children:"Transfer"})]})})]})]})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"space-y-2",children:[s.jsx(h._,{htmlFor:"category",className:"form-label",children:"Category *"}),(0,s.jsxs)(f.Ph,{value:S.categoryId,onValueChange:e=>T("categoryId",e),children:[s.jsx(f.i4,{className:"form-input",children:s.jsx(f.ki,{placeholder:"Select a category"})}),s.jsx(f.Bw,{children:i.map(e=>s.jsx(f.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),s.jsx("span",{children:e.name})]})},e.id))})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"space-y-2",children:[s.jsx(h._,{htmlFor:"description",className:"form-label",children:"Description"}),s.jsx(p.g,{id:"description",placeholder:"Enter transaction description...",value:S.description,onChange:e=>T("description",e.target.value),className:"form-input",rows:3})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"merchant",className:"form-label",children:"Merchant"}),s.jsx(x.I,{id:"merchant",placeholder:"Merchant name",value:S.merchant,onChange:e=>T("merchant",e.target.value),className:"form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"form-label",children:"Date"}),(0,s.jsxs)(j.J2,{children:[s.jsx(j.xo,{asChild:!0,children:(0,s.jsxs)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal form-input",!u&&"text-slate-500"),children:[s.jsx(v.Z,{className:"mr-2 h-4 w-4"}),u?(0,N.WU)(u,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(j.yk,{className:"w-auto p-0",align:"start",children:s.jsx(y.f,{mode:"single",selected:u,onSelect:e=>e&&C(e),initialFocus:!0})})]})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"accountNumber",className:"form-label",children:"Account Number"}),s.jsx(x.I,{id:"accountNumber",placeholder:"Last 4 digits",value:S.accountNumber,onChange:e=>T("accountNumber",e.target.value),className:"form-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"transactionId",className:"form-label",children:"Transaction ID"}),s.jsx(x.I,{id:"transactionId",placeholder:"Transaction reference",value:S.transactionId,onChange:e=>T("transactionId",e.target.value),className:"form-input"})]})]}),(0,s.jsxs)(g.cN,{className:"gap-2",children:[s.jsx(n.z,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:d,className:"professional-button-secondary",children:"Cancel"}),(0,s.jsxs)(n.z,{type:"submit",disabled:d,className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[d&&s.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Transaction"]})]})]})]})})}var S=t(391),M=t(4857),E=t(6443),I="horizontal",R=["horizontal","vertical"],T=r.forwardRef((e,a)=>{let{decorative:t,orientation:r=I,...l}=e,n=R.includes(r)?r:I;return(0,s.jsx)(E.WV.div,{"data-orientation":n,...t?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"},...l,ref:a})});T.displayName="Separator";let F=r.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...r},l)=>s.jsx(T,{ref:l,decorative:t,orientation:a,className:(0,w.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));F.displayName=T.displayName;let P=(0,c.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),_=(0,c.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Z=(0,c.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var D=t(9197);let A=(0,c.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),z=(0,c.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);function O({open:e,onOpenChange:a,onTransactionAdded:t}){let o;let[c,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(""),[x,y]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[E,I]=(0,r.useState)("input"),{toast:R}=(0,k.pm)(),T=async()=>{if(!m.trim()){R({title:"Error",description:"Please enter SMS or email text to parse",variant:"destructive"});return}N(!0);try{let e=await fetch("/api/transactions/parse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageText:m.trim()})});if(e.ok){let a=await e.json();y(a),I("review")}else{let a=await e.json();R({title:"Parsing Failed",description:a.error||"Could not parse the transaction from the provided text",variant:"destructive"})}}catch(e){R({title:"Error",description:"Failed to parse transaction",variant:"destructive"})}finally{N(!1)}},O=async()=>{if(x){C(!0);try{if((await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:x.amount,type:x.type,description:x.description,merchant:x.merchant,categoryId:x.categoryId,accountNumber:x.accountNumber,transactionId:x.transactionId,date:x.date,balance:x.balance,status:x.status,source:m.toLowerCase().includes("@")?"EMAIL":"SMS",rawMessage:x.rawMessage})})).ok)t(),a(!1);else throw Error("Failed to save transaction")}catch(e){R({title:"Error",description:"Failed to save transaction",variant:"destructive"})}finally{C(!1)}}};return s.jsx(g.Vq,{open:e,onOpenChange:a,children:(0,s.jsxs)(g.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(g.fK,{children:[(0,s.jsxs)(g.$N,{className:"flex items-center",children:[s.jsx(P,{className:"mr-2 h-5 w-5 text-purple-600"}),"Parse SMS/Email Transaction"]}),s.jsx(g.Be,{children:"Paste your bank SMS or email text below to automatically extract transaction details."})]}),"input"===E&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"messageText",children:"SMS/Email Text"}),s.jsx(p.g,{id:"messageText",placeholder:"Paste your bank SMS or email text here...",value:m,onChange:e=>u(e.target.value),rows:6,className:"resize-none"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(h._,{className:"text-sm font-medium",children:"Sample Messages (click to use):"}),s.jsx("div",{className:"space-y-2",children:["HDFC Bank Alert: Rs. 500.00 debited from your A/c ending 1234 on 01-05-2025 14:30. Txn ID: 1234567890. Status: Success.","PhonePe Alert: Rs. 250 debited from your bank account ending 4321 on 01-05-2025 14:30. Txn ID: 1122334455. Status: Success.","INR 2000 debited from A/c no. XX3423 on 05-02-19 07:27:11 IST at ECS PAY. Avl Bal- INR 2343.23."].map((e,a)=>s.jsx(S.Zb,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>u(e),children:s.jsx(S.aY,{className:"p-3",children:s.jsx("p",{className:"text-xs text-muted-foreground font-mono leading-relaxed",children:e})})},a))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(_,{className:"h-4 w-4"}),s.jsx("span",{children:"SMS"})]}),s.jsx("span",{children:"•"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(Z,{className:"h-4 w-4"}),s.jsx("span",{children:"Email"})]}),s.jsx("span",{children:"•"}),s.jsx("span",{children:"Supports major Indian banks & UPI platforms"})]})]}),"review"===E&&x&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(D.Z,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Transaction Parsed Successfully"})]}),(0,s.jsxs)(S.Zb,{children:[s.jsx(S.Ol,{children:s.jsx(S.ll,{className:"text-lg",children:"Transaction Details"})}),(0,s.jsxs)(S.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(i.Z,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-lg font-semibold",children:(o=x.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx(M.C,{className:(e=>{switch(e){case"INCOME":return"bg-green-100 text-green-800";case"EXPENSE":return"bg-red-100 text-red-800";case"TRANSFER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(x.type),children:x.type})]})]}),s.jsx(F,{}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(v.Z,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{children:new Date(x.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(M.C,{variant:"outline",className:"bg-green-50 text-green-700",children:x.status})]})]}),(x.merchant||x.description)&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(F,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{className:"text-sm",children:x.description||x.merchant})]})]}),(x.accountNumber||x.transactionId||x.platform)&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(F,{}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[x.accountNumber&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Account"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(A,{className:"h-4 w-4 text-gray-600"}),(0,s.jsxs)("span",{className:"text-sm",children:["****",x.accountNumber]})]})]}),x.transactionId&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Txn ID"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(z,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-mono",children:x.transactionId})]})]}),x.platform&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{className:"text-sm font-medium text-muted-foreground",children:"Platform"}),s.jsx(M.C,{variant:"outline",children:x.platform})]})]})]}),s.jsx(F,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"category",children:"Category"}),(0,s.jsxs)(f.Ph,{value:x.categoryId,onValueChange:e=>{if(x){let a=c.find(a=>a.id===e);y({...x,categoryId:e,suggestedCategory:a?.name||"Others"})}},children:[s.jsx(f.i4,{children:s.jsx(f.ki,{})}),s.jsx(f.Bw,{children:c.map(e=>s.jsx(f.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),s.jsx("span",{children:e.name}),e.name===x.suggestedCategory&&s.jsx(M.C,{variant:"secondary",className:"ml-2 text-xs",children:"Suggested"})]})},e.id))})]})]})]})]})]}),(0,s.jsxs)(g.cN,{children:["input"===E&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.z,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:j,children:"Cancel"}),(0,s.jsxs)(n.z,{onClick:T,disabled:j||!m.trim(),children:[j&&s.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Parse Transaction"]})]}),"review"===E&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.z,{type:"button",variant:"outline",onClick:()=>I("input"),disabled:w,children:"Back"}),(0,s.jsxs)(n.z,{onClick:O,disabled:w,children:[w&&s.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Transaction"]})]})]})]})})}var $=t(2105);let V=(0,c.Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),B=(0,c.Z)("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);var L=t(2051),U=t(5960);function Y({view:e,onViewChange:a,year:t,onYearChange:r,month:l,onMonthChange:i}){let o=new Date().getFullYear(),c=new Date().getMonth()+1,d=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],m=Array.from({length:10},(e,a)=>o-a);return s.jsx(S.Zb,{className:"professional-card",children:s.jsx(S.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(v.Z,{className:"h-5 w-5 text-professional-blue"}),s.jsx("span",{className:"font-medium text-slate-900",children:"View:"})]}),s.jsx($.mQ,{value:e,onValueChange:e=>a(e),children:(0,s.jsxs)($.dr,{className:"grid w-full grid-cols-2",children:[(0,s.jsxs)($.SP,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(V,{className:"h-4 w-4"}),"Monthly"]}),(0,s.jsxs)($.SP,{value:"yearly",className:"flex items-center gap-2",children:[s.jsx(B,{className:"h-4 w-4"}),"Yearly"]})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["monthly"===e&&(0,s.jsxs)(f.Ph,{value:l?.toString(),onValueChange:e=>i(parseInt(e)),children:[s.jsx(f.i4,{className:"w-[140px] form-input",children:s.jsx(f.ki,{placeholder:"Month"})}),s.jsx(f.Bw,{children:d.map(e=>s.jsx(f.Ql,{value:e.value.toString(),children:e.label},e.value))})]}),(0,s.jsxs)(f.Ph,{value:t.toString(),onValueChange:e=>r(parseInt(e)),children:[s.jsx(f.i4,{className:"w-[100px] form-input",children:s.jsx(f.ki,{placeholder:"Year"})}),s.jsx(f.Bw,{children:m.map(e=>s.jsx(f.Ql,{value:e.toString(),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.z,{onClick:()=>{"monthly"===e?1===l?(i(12),r(t-1)):i((l||1)-1):r(t-1)},variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:s.jsx(L.Z,{className:"h-4 w-4"})}),s.jsx("div",{className:"px-4 py-2 bg-slate-100 rounded-md text-sm font-medium text-slate-900 min-w-[120px] text-center",children:"monthly"===e&&l?`${d.find(e=>e.value===l)?.label} ${t}`:t.toString()}),s.jsx(n.z,{onClick:()=>{"monthly"===e?12===l?(i(1),r(t+1)):i((l||1)+1):r(t+1)},variant:"outline",size:"sm",disabled:!("monthly"===e?!(t===o&&(l||1)>=c):t<o),className:"border-slate-300 text-slate-600 hover:bg-slate-50 disabled:opacity-50",children:s.jsx(U.Z,{className:"h-4 w-4"})})]})]})]})})})}var q=t(525),Q=t(1203),W=t(3537);let G=(0,c.Z)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var J=t(4604);let K=(0,c.Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var H=t(7403);function X({year:e,month:a,view:t}){let[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);if(o)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)(S.Zb,{className:"professional-card",children:[(0,s.jsxs)(S.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(q.O,{className:"h-4 w-24"}),s.jsx(q.O,{className:"h-8 w-8 rounded-lg"})]}),(0,s.jsxs)(S.aY,{children:[s.jsx(q.O,{className:"h-8 w-32"}),s.jsx(q.O,{className:"h-4 w-20 mt-2"})]})]},a))});if(!n)return s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-600",children:"Failed to load summary data"})});let d=[{title:"Total Income",value:n.totalIncome,count:n.incomeTransactions,icon:Q.Z,color:"emerald",bgColor:"bg-emerald-100",textColor:"text-emerald-600",trend:"positive"},{title:"Total Expenses",value:n.totalExpense,count:n.expenseTransactions,icon:W.Z,color:"red",bgColor:"bg-red-100",textColor:"text-red-600",trend:"negative"},{title:"Net Balance",value:Math.abs(n.netBalance),count:null,icon:n.netBalance>=0?G:J.Z,color:n.netBalance>=0?"emerald":"red",bgColor:n.netBalance>=0?"bg-emerald-100":"bg-red-100",textColor:n.netBalance>=0?"text-emerald-600":"text-red-600",trend:n.netBalance>=0?"positive":"negative"},{title:"Total Transactions",value:n.totalTransactions,count:null,icon:K,color:"blue",bgColor:"bg-blue-100",textColor:"text-professional-blue",trend:"neutral"}];return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:s.jsx(v.Z,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-slate-900",children:["monthly"===t&&a?`${["January","February","March","April","May","June","July","August","September","October","November","December"][a-1]} ${e}`:`Year ${e}`," Summary"]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Financial overview for the selected period"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((e,a)=>s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},children:(0,s.jsxs)(S.Zb,{className:"professional-card hover-shadow",children:[(0,s.jsxs)(S.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(S.ll,{className:"text-sm font-medium text-slate-600",children:e.title}),s.jsx("div",{className:`p-2 ${e.bgColor} rounded-lg`,children:s.jsx(e.icon,{className:`h-4 w-4 ${e.textColor}`})})]}),(0,s.jsxs)(S.aY,{children:[s.jsx("div",{className:`text-2xl font-bold ${e.textColor}`,children:"Total Transactions"===e.title?e.value.toLocaleString():(0,H.xG)(e.value)}),null!==e.count&&(0,s.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:[e.count," transaction",1!==e.count?"s":""]}),"Net Balance"===e.title&&s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:n.netBalance>=0?"Surplus":"Deficit"})]})]})},e.title))})]})}var ee=t(1577),ea=t(8175),et=t(4906);let es=(0,ee.default)(async()=>{},{loadableGenerated:{modules:["components/transaction-charts.tsx -> react-chartjs-2"]},ssr:!1,loading:()=>s.jsx(el,{})}),er=(0,ee.default)(async()=>{},{loadableGenerated:{modules:["components/transaction-charts.tsx -> react-chartjs-2"]},ssr:!1,loading:()=>s.jsx(el,{})});function el(){return s.jsx("div",{className:"h-[300px] w-full flex items-center justify-center",children:s.jsx(q.O,{className:"h-full w-full rounded-lg"})})}function en({year:e,month:a}){let[t,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={labels:t.map(e=>d[e.month-1]),datasets:[{label:"Income",data:t.map(e=>parseFloat(e.income.toString())),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0},{label:"Expenses",data:t.map(e=>parseFloat(e.expense.toString())),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:`${a?`Monthly Trends for ${d[a-1]} ${e}`:`Monthly Trends for ${e}`}`},tooltip:{callbacks:{label:function(e){return`${e.dataset.label}: ${(0,H.xG)(e.parsed.y)}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return(0,H.xG)(e)}}}}},x=n.filter(e=>"EXPENSE"===e.transaction_type),h=n.filter(e=>"INCOME"===e.transaction_type),p={labels:x.map(e=>e.category_name),datasets:[{data:x.map(e=>parseFloat(e.total_amount.toString())),backgroundColor:x.map(e=>e.category_color||"#3B82F6"),borderWidth:2,borderColor:"#ffffff"}]},f={labels:h.map(e=>e.category_name),datasets:[{data:h.map(e=>parseFloat(e.total_amount.toString())),backgroundColor:h.map(e=>e.category_color||"#10B981"),borderWidth:2,borderColor:"#ffffff"}]},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(e){let a=e.dataset.data.reduce((e,a)=>e+a,0),t=(e.parsed/a*100).toFixed(1);return`${e.label}: ${(0,H.xG)(e.parsed)} (${t}%)`}}}}};return o?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(S.Zb,{className:"professional-card",children:[s.jsx(S.Ol,{children:s.jsx(q.O,{className:"h-6 w-48"})}),s.jsx(S.aY,{children:s.jsx(el,{})})]}),(0,s.jsxs)(S.Zb,{className:"professional-card",children:[s.jsx(S.Ol,{children:s.jsx(q.O,{className:"h-6 w-48"})}),s.jsx(S.aY,{children:s.jsx(el,{})})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(S.Zb,{className:"professional-card hover-shadow",children:[s.jsx(S.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(S.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Q.Z,{className:"h-4 w-4 text-professional-blue"})}),"Income vs Expenses"]})}),s.jsx(S.aY,{children:s.jsx("div",{className:"h-[300px]",children:t.length>0?s.jsx(es,{data:m,options:u}):s.jsx("div",{className:"h-full flex items-center justify-center text-slate-500",children:"No data available for the selected period"})})})]}),(0,s.jsxs)(S.Zb,{className:"professional-card hover-shadow",children:[s.jsx(S.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(S.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(ea.Z,{className:"h-4 w-4 text-red-600"})}),"Expense Categories"]})}),s.jsx(S.aY,{children:s.jsx("div",{className:"h-[300px]",children:x.length>0?s.jsx(er,{data:p,options:g}):s.jsx("div",{className:"h-full flex items-center justify-center text-slate-500",children:"No expense data available for the selected period"})})})]}),h.length>0&&(0,s.jsxs)(S.Zb,{className:"professional-card hover-shadow lg:col-span-2",children:[s.jsx(S.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:(0,s.jsxs)(S.ll,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:s.jsx(ea.Z,{className:"h-4 w-4 text-emerald-600"})}),"Income Categories"]})}),s.jsx(S.aY,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(er,{data:f,options:g})})})]})]})}et.kL.register(et.uw,et.f$,et.od,et.jn,et.Dx,et.u,et.De,et.qi);var ei=t(7595);let eo=(0,c.Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),ec=(0,c.Z)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);function ed({searchTerm:e,onSearchChange:a,selectedCategory:t,onCategoryChange:l,selectedType:i,onTypeChange:o,dateRange:c,onDateRangeChange:m,sortBy:u,onSortChange:h,sortOrder:p,onSortOrderChange:g,categories:b,onClearFilters:w}){let[k,C]=(0,r.useState)(!1),E=e||"all"!==t||"all"!==i||c.from||c.to,I=(e,a)=>{"from"===a?m({...c,from:e}):m({...c,to:e})},R=()=>{m({from:void 0,to:void 0})};return s.jsx(S.Zb,{className:"professional-card",children:s.jsx(S.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(x.I,{placeholder:"Search transactions, merchants, descriptions...",value:e,onChange:e=>a(e.target.value),className:"pl-10 form-input"})]}),E&&(0,s.jsxs)(n.z,{onClick:w,variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[s.jsx(ei.Z,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)(f.Ph,{value:t,onValueChange:l,children:[s.jsx(f.i4,{className:"form-input",children:s.jsx(f.ki,{placeholder:"Category"})}),(0,s.jsxs)(f.Bw,{children:[s.jsx(f.Ql,{value:"all",children:"All Categories"}),b.map(e=>s.jsx(f.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),s.jsx("span",{children:e.name})]})},e.id))]})]}),(0,s.jsxs)(f.Ph,{value:i,onValueChange:o,children:[s.jsx(f.i4,{className:"form-input",children:s.jsx(f.ki,{placeholder:"Type"})}),(0,s.jsxs)(f.Bw,{children:[s.jsx(f.Ql,{value:"all",children:"All Types"}),s.jsx(f.Ql,{value:"INCOME",children:"Income"}),s.jsx(f.Ql,{value:"EXPENSE",children:"Expense"}),s.jsx(f.Ql,{value:"TRANSFER",children:"Transfer"})]})]}),(0,s.jsxs)(j.J2,{open:k,onOpenChange:C,children:[s.jsx(j.xo,{asChild:!0,children:(0,s.jsxs)(n.z,{variant:"outline",className:"form-input justify-start text-left font-normal",children:[s.jsx(v.Z,{className:"mr-2 h-4 w-4"}),c.from?c.to?(0,s.jsxs)(s.Fragment,{children:[(0,N.WU)(c.from,"MMM dd")," - ",(0,N.WU)(c.to,"MMM dd")]}):(0,N.WU)(c.from,"MMM dd, yyyy"):s.jsx("span",{children:"Date range"})]})}),s.jsx(j.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-semibold",children:"Select Date Range"}),(c.from||c.to)&&s.jsx(n.z,{onClick:R,variant:"ghost",size:"sm",className:"h-auto p-1",children:s.jsx(ei.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:"From"}),s.jsx(y.f,{mode:"single",selected:c.from,onSelect:e=>I(e,"from"),disabled:e=>e>new Date||!!c.to&&e>c.to,initialFocus:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:"To"}),s.jsx(y.f,{mode:"single",selected:c.to,onSelect:e=>I(e,"to"),disabled:e=>e>new Date||!!c.from&&e<c.from})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(n.z,{onClick:()=>C(!1),size:"sm",children:"Done"})})]})})]}),(0,s.jsxs)(f.Ph,{value:u,onValueChange:h,children:[s.jsx(f.i4,{className:"form-input",children:s.jsx(f.ki,{placeholder:"Sort by"})}),(0,s.jsxs)(f.Bw,{children:[s.jsx(f.Ql,{value:"date",children:"Date"}),s.jsx(f.Ql,{value:"amount",children:"Amount"}),s.jsx(f.Ql,{value:"description",children:"Description"}),s.jsx(f.Ql,{value:"category",children:"Category"}),s.jsx(f.Ql,{value:"merchant",children:"Merchant"})]})]}),(0,s.jsxs)(n.z,{onClick:()=>g("asc"===p?"desc":"asc"),variant:"outline",className:"form-input justify-center",children:["asc"===p?s.jsx(eo,{className:"h-4 w-4 mr-2"}):s.jsx(ec,{className:"h-4 w-4 mr-2"}),"asc"===p?"Ascending":"Descending"]})]}),E&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Active filters:"}),e&&(0,s.jsxs)(M.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["Search: ",e,s.jsx(ei.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>a("")})]}),"all"!==t&&(0,s.jsxs)(M.C,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:["Category: ",b.find(e=>e.id===t)?.name,s.jsx(ei.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>l("all")})]}),"all"!==i&&(0,s.jsxs)(M.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:["Type: ",i,s.jsx(ei.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>o("all")})]}),(c.from||c.to)&&(0,s.jsxs)(M.C,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:["Date: ",c.from?(0,N.WU)(c.from,"MMM dd"):"Start"," - ",c.to?(0,N.WU)(c.to,"MMM dd"):"End",s.jsx(ei.Z,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:R})]})]})]})})})}var em=t(3254);function eu(){let e=(0,r.useRef)(!1);return(0,em.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ex=t(9302),eh=t(1242),ep=t(2924);class ef extends r.Component{getSnapshotBeforeUpdate(e){let a=this.props.childRef.current;if(a&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=a.offsetHeight||0,e.width=a.offsetWidth||0,e.top=a.offsetTop,e.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eg({children:e,isPresent:a}){let t=(0,r.useId)(),s=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:i}=l.current;if(a||!s.current||!e||!r)return;s.current.dataset.motionPopId=t;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${n}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[a]),r.createElement(ef,{isPresent:a,childRef:s,sizeRef:l},r.cloneElement(e,{ref:s}))}let ey=({children:e,initial:a,isPresent:t,onExitComplete:s,custom:l,presenceAffectsLayout:n,mode:i})=>{let o=(0,ep.h)(ej),c=(0,r.useId)(),d=(0,r.useMemo)(()=>({id:c,initial:a,isPresent:t,custom:l,onExitComplete:e=>{for(let a of(o.set(e,!0),o.values()))if(!a)return;s&&s()},register:e=>(o.set(e,!1),()=>o.delete(e))}),n?void 0:[t]);return(0,r.useMemo)(()=>{o.forEach((e,a)=>o.set(a,!1))},[t]),r.useEffect(()=>{t||o.size||!s||s()},[t]),"popLayout"===i&&(e=r.createElement(eg,{isPresent:t},e)),r.createElement(eh.O.Provider,{value:d},e)};function ej(){return new Map}var ev=t(4052),eb=t(6600);let eN=e=>e.key||"",ew=({children:e,custom:a,initial:t=!0,onExitComplete:s,exitBeforeEnter:l,presenceAffectsLayout:n=!0,mode:i="sync"})=>{var o;(0,eb.k)(!l,"Replace exitBeforeEnter with mode='wait'");let c=(0,r.useContext)(ev.p).forceRender||function(){let e=eu(),[a,t]=(0,r.useState)(0),s=(0,r.useCallback)(()=>{e.current&&t(a+1)},[a]);return[(0,r.useCallback)(()=>ex.Wi.postRender(s),[s]),a]}()[0],d=eu(),m=function(e){let a=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&a.push(e)}),a}(e),u=m,x=(0,r.useRef)(new Map).current,h=(0,r.useRef)(u),p=(0,r.useRef)(new Map).current,f=(0,r.useRef)(!0);if((0,em.L)(()=>{f.current=!1,function(e,a){e.forEach(e=>{let t=eN(e);a.set(t,e)})}(m,p),h.current=u}),o=()=>{f.current=!0,p.clear(),x.clear()},(0,r.useEffect)(()=>()=>o(),[]),f.current)return r.createElement(r.Fragment,null,u.map(e=>r.createElement(ey,{key:eN(e),isPresent:!0,initial:!!t&&void 0,presenceAffectsLayout:n,mode:i},e)));u=[...u];let g=h.current.map(eN),y=m.map(eN),j=g.length;for(let e=0;e<j;e++){let a=g[e];-1!==y.indexOf(a)||x.has(a)||x.set(a,void 0)}return"wait"===i&&x.size&&(u=[]),x.forEach((e,t)=>{if(-1!==y.indexOf(t))return;let l=p.get(t);if(!l)return;let o=g.indexOf(t),f=e;f||(f=r.createElement(ey,{key:eN(l),isPresent:!1,onExitComplete:()=>{x.delete(t);let e=Array.from(p.keys()).filter(e=>!y.includes(e));if(e.forEach(e=>p.delete(e)),h.current=m.filter(a=>{let s=eN(a);return s===t||e.includes(s)}),!x.size){if(!1===d.current)return;c(),s&&s()}},custom:a,presenceAffectsLayout:n,mode:i},l),x.set(t,f)),u.splice(o,0,f)}),u=u.map(e=>{let a=e.key;return x.has(a)?e:r.createElement(ey,{key:eN(e),isPresent:!0,presenceAffectsLayout:n,mode:i},e)}),r.createElement(r.Fragment,null,x.size?u:u.map(e=>(0,r.cloneElement)(e)))};function ek({year:e,month:a,searchTerm:t,selectedCategory:c,selectedType:d,dateRange:m,sortBy:u,sortOrder:x,onAddTransaction:h}){let[p,f]=(0,r.useState)([]),[g,y]=(0,r.useState)(!0),[j,N]=(0,r.useState)({page:1,limit:20,total:0,pages:0}),{toast:w}=(0,k.pm)(),C=e=>{N(a=>({...a,page:e}))},E=e=>{switch(e){case"INCOME":return s.jsx(G,{className:"h-4 w-4 text-emerald-600"});case"EXPENSE":return s.jsx(J.Z,{className:"h-4 w-4 text-red-600"});default:return s.jsx(i.Z,{className:"h-4 w-4 text-professional-blue"})}},I=e=>{switch(e){case"INCOME":return"text-emerald-600";case"EXPENSE":return"text-red-600";default:return"text-professional-blue"}},R=e=>{let a=(0,H.xG)(e.amount);return"INCOME"===e.type?`+${a}`:`-${a}`},T=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),F=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return g&&1===j.page?(0,s.jsxs)(S.Zb,{className:"professional-card",children:[s.jsx(S.Ol,{children:s.jsx(q.O,{className:"h-6 w-48"})}),s.jsx(S.aY,{children:s.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(q.O,{className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(q.O,{className:"h-4 w-48"}),s.jsx(q.O,{className:"h-3 w-32"})]})]}),(0,s.jsxs)("div",{className:"text-right space-y-2",children:[s.jsx(q.O,{className:"h-5 w-24"}),s.jsx(q.O,{className:"h-4 w-16"})]})]},a))})})]}):(0,s.jsxs)(S.Zb,{className:"professional-card",children:[(0,s.jsxs)(S.Ol,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,s.jsxs)(S.ll,{className:"text-slate-900 flex items-center gap-2",children:[s.jsx(K,{className:"h-5 w-5 text-professional-blue"}),"Transactions (",j.total.toLocaleString(),")"]}),g&&j.page>1&&s.jsx(b,{className:"h-4 w-4 animate-spin text-professional-blue"})]}),s.jsx(S.aY,{children:s.jsx("div",{className:"space-y-4",children:0===p.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(i.Z,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No transactions found"}),s.jsx("p",{className:"text-slate-600 mb-6",children:t||"all"!==c||"all"!==d||m.from||m.to?"Try adjusting your filters to see more results":"Start by adding your first transaction"}),(0,s.jsxs)(n.z,{onClick:h,className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[s.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(ew,{mode:"wait",children:s.jsx("div",{className:"space-y-3",children:p.map((e,a)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},className:"group flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-all duration-200 hover-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:"p-2 rounded-full bg-slate-100 group-hover:bg-white transition-colors",children:E(e.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:e.description||"No description"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[e.merchant&&s.jsx("span",{className:"text-sm text-slate-600 truncate",children:e.merchant}),e.category&&s.jsx(M.C,{variant:"secondary",className:"text-xs px-2 py-1",style:{backgroundColor:e.category.color+"20",color:e.category.color,border:`1px solid ${e.category.color}30`},children:e.category.name})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(v.Z,{className:"h-3 w-3 mr-1"}),T(e.date)]}),s.jsx("span",{children:F(e.date)}),e.transactionId&&(0,s.jsxs)("span",{className:"font-mono",children:["ID: ",e.transactionId.slice(-6)]})]})]})})})]}),(0,s.jsxs)("div",{className:"text-right ml-4",children:[s.jsx("div",{className:`text-lg font-bold ${I(e.type)}`,children:R(e)}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 mt-1",children:[s.jsx(M.C,{variant:"SUCCESS"===e.status?"default":"destructive",className:`text-xs ${"SUCCESS"===e.status?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-red-100 text-red-800 border-red-200"}`,children:e.status}),"MANUAL"!==e.source&&s.jsx(M.C,{variant:"outline",className:"text-xs",children:e.source})]})]})]},`${e.id}-${j.page}`))})}),j.pages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-slate-200",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",(j.page-1)*j.limit+1," to"," ",Math.min(j.page*j.limit,j.total)," of"," ",j.total.toLocaleString()," transactions"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(n.z,{onClick:()=>C(j.page-1),disabled:1===j.page||g,variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[s.jsx(L.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,j.pages)},(e,a)=>{let t;return t=j.pages<=5?a+1:j.page<=3?a+1:j.page>=j.pages-2?j.pages-4+a:j.page-2+a,s.jsx(n.z,{onClick:()=>C(t),disabled:g,variant:j.page===t?"default":"outline",size:"sm",className:`w-8 h-8 p-0 ${j.page===t?"bg-professional-blue text-white":"border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:t},t)})}),(0,s.jsxs)(n.z,{onClick:()=>C(j.page+1),disabled:j.page===j.pages||g,variant:"outline",size:"sm",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:["Next",s.jsx(U.Z,{className:"h-4 w-4 ml-1"})]})]})]})]})})})]})}function eC(){let[e,a]=(0,r.useState)("monthly"),[t,c]=(0,r.useState)(new Date().getFullYear()),[x,h]=(0,r.useState)(new Date().getMonth()+1),[p,f]=(0,r.useState)(""),[g,y]=(0,r.useState)("all"),[j,v]=(0,r.useState)("all"),[b,N]=(0,r.useState)({}),[w,S]=(0,r.useState)("date"),[M,E]=(0,r.useState)("desc"),[I,R]=(0,r.useState)(!1),[T,F]=(0,r.useState)(!1),[P,_]=(0,r.useState)([]),[Z,D]=(0,r.useState)(0),{toast:A}=(0,k.pm)(),z=()=>{D(e=>e+1),R(!1),F(!1),A({title:"Success",description:"Transaction added successfully"})},$=async()=>{try{let a=new URLSearchParams;"monthly"===e&&x?(a.append("year",t.toString()),a.append("month",x.toString())):a.append("year",t.toString()),"all"!==g&&a.append("categoryId",g),"all"!==j&&a.append("type",j),p&&a.append("search",p),b.from&&a.append("startDate",b.from.toISOString()),b.to&&a.append("endDate",b.to.toISOString());let s=await fetch(`/api/transactions/export?${a}`);if(!s.ok)throw Error("Export failed");let r=await s.blob(),l=window.URL.createObjectURL(r),n=document.createElement("a");n.href=l;let i="monthly"===e&&x?`${t}-${x.toString().padStart(2,"0")}`:t.toString();n.download=`transactions-${i}.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(l),document.body.removeChild(n),A({title:"Success",description:"Transactions exported successfully"})}catch(e){A({title:"Error",description:"Failed to export transactions",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:s.jsx(i.Z,{className:"h-6 w-6 text-white"})}),"Transaction Analytics"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive view of your financial transactions with insights and analytics"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.z,{onClick:()=>R(!0),className:"bg-professional-blue hover:bg-professional-blue-dark text-white",children:[s.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Add Transaction"]}),(0,s.jsxs)(n.z,{onClick:()=>F(!0),variant:"outline",className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Parse SMS"]}),(0,s.jsxs)(n.z,{onClick:$,variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",children:[s.jsx(m,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsx(Y,{view:e,onViewChange:e=>{a(e),N({})},year:t,onYearChange:c,month:"monthly"===e?x:void 0,onMonthChange:h}),s.jsx(X,{year:t,month:"monthly"===e?x:void 0,view:e},`${e}-${t}-${x}-${Z}`),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:s.jsx(u.Z,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Financial Insights"})]}),s.jsx(en,{year:t,month:"monthly"===e?x:void 0},`charts-${e}-${t}-${x}-${Z}`)]}),s.jsx(ed,{searchTerm:p,onSearchChange:f,selectedCategory:g,onCategoryChange:y,selectedType:j,onTypeChange:v,dateRange:b,onDateRangeChange:N,sortBy:w,onSortChange:S,sortOrder:M,onSortOrderChange:E,categories:P,onClearFilters:()=>{f(""),y("all"),v("all"),N({}),S("date"),E("desc")}}),s.jsx(ek,{year:t,month:"monthly"===e?x:void 0,searchTerm:p,selectedCategory:g,selectedType:j,dateRange:b,sortBy:w,sortOrder:M,onAddTransaction:()=>R(!0)},`list-${e}-${t}-${x}-${p}-${g}-${j}-${w}-${M}-${Z}`)]}),s.jsx(C,{open:I,onOpenChange:R,onTransactionAdded:z}),s.jsx(O,{open:T,onOpenChange:F,onTransactionAdded:z})]})}},4857:(e,a,t)=>{"use strict";t.d(a,{C:()=>i});var s=t(4848);t(5642);var r=t(5811),l=t(5709);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...t}){return s.jsx("div",{className:(0,l.cn)(n({variant:a}),e),...t})}},6765:(e,a,t)=>{"use strict";t.d(a,{f:()=>c});var s=t(4848);t(5642);var r=t(2051),l=t(5960),n=t(1787),i=t(5709),o=t(8287);function c({className:e,classNames:a,showOutsideDays:t=!0,...c}){return s.jsx(n._W,{showOutsideDays:t,className:(0,i.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...e})=>s.jsx(r.Z,{className:"h-4 w-4"}),IconRight:({...e})=>s.jsx(l.Z,{className:"h-4 w-4"})},...c})}c.displayName="Calendar"},391:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>i,Zb:()=>n,aY:()=>c,ll:()=>o});var s=t(4848),r=t(5642),l=t(5709);let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));o.displayName="CardTitle",r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},4339:(e,a,t)=>{"use strict";t.d(a,{$N:()=>h,Be:()=>p,Vq:()=>o,cN:()=>x,cZ:()=>m,fK:()=>u});var s=t(4848),r=t(5642),l=t(2658),n=t(7595),i=t(5709);let o=l.fC;l.xz;let c=l.h_;l.x8;let d=r.forwardRef(({className:e,...a},t)=>s.jsx(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));d.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(c,{children:[s.jsx(d,{}),(0,s.jsxs)(l.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let u=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let x=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter";let h=r.forwardRef(({className:e,...a},t)=>s.jsx(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));h.displayName=l.Dx.displayName;let p=r.forwardRef(({className:e,...a},t)=>s.jsx(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));p.displayName=l.dk.displayName},5205:(e,a,t)=>{"use strict";t.d(a,{I:()=>n});var s=t(4848),r=t(5642),l=t(5709);let n=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Input"},7767:(e,a,t)=>{"use strict";t.d(a,{_:()=>c});var s=t(4848),r=t(5642),l=t(7995),n=t(5811),i=t(5709);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...a},t)=>s.jsx(l.f,{ref:t,className:(0,i.cn)(o(),e),...a}));c.displayName=l.f.displayName},5379:(e,a,t)=>{"use strict";t.d(a,{J2:()=>i,xo:()=>o,yk:()=>c});var s=t(4848),r=t(5642),l=t(8614),n=t(5709);let i=l.fC,o=l.xz,c=r.forwardRef(({className:e,align:a="center",sideOffset:t=4,...r},i)=>s.jsx(l.h_,{children:s.jsx(l.VY,{ref:i,align:a,sideOffset:t,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));c.displayName=l.VY.displayName},2595:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>p,Ph:()=>d,Ql:()=>f,i4:()=>u,ki:()=>m});var s=t(4848),r=t(5642),l=t(3686),n=t(8366),i=t(2854),o=t(8444),c=t(5709);let d=l.fC;l.ZA;let m=l.B4,u=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(l.JO,{asChild:!0,children:s.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=l.xz.displayName;let x=r.forwardRef(({className:e,...a},t)=>s.jsx(l.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(i.Z,{className:"h-4 w-4"})}));x.displayName=l.u_.displayName;let h=r.forwardRef(({className:e,...a},t)=>s.jsx(l.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let p=r.forwardRef(({className:e,children:a,position:t="popper",...r},n)=>s.jsx(l.h_,{children:(0,s.jsxs)(l.VY,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[s.jsx(x,{}),s.jsx(l.l_,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(h,{})]})}));p.displayName=l.VY.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let f=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(o.Z,{className:"h-4 w-4"})})}),s.jsx(l.eT,{children:a})]}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},525:(e,a,t)=>{"use strict";t.d(a,{O:()=>l});var s=t(4848),r=t(5709);function l({className:e,...a}){return s.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...a})}},2105:(e,a,t)=>{"use strict";t.d(a,{mQ:()=>Q,nU:()=>J,dr:()=>W,SP:()=>G});var s=t(4848),r=t(5642),l=t(6654),n=t(9185),i=t(3672),o=t(8532),c=t(5926),d=t(6443),m=t(323),u=t(1053),x=t(5957),h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[g,y,j]=(0,i.B)(f),[v,b]=(0,n.b)(f,[j]),[N,w]=v(f),k=r.forwardRef((e,a)=>(0,s.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(C,{...e,ref:a})})}));k.displayName=f;var C=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:t,orientation:n,loop:i=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:j,onEntryFocus:v,preventScrollOnEntryFocus:b=!1,...w}=e,k=r.useRef(null),C=(0,o.e)(a,k),S=(0,x.gm)(c),[M=null,E]=(0,u.T)({prop:f,defaultProp:g,onChange:j}),[R,T]=r.useState(!1),F=(0,m.W)(v),P=y(t),_=r.useRef(!1),[Z,D]=r.useState(0);return r.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(h,F),()=>e.removeEventListener(h,F)},[F]),(0,s.jsx)(N,{scope:t,orientation:n,dir:S,loop:i,currentTabStopId:M,onItemFocus:r.useCallback(e=>E(e),[E]),onItemShiftTab:r.useCallback(()=>T(!0),[]),onFocusableItemAdd:r.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>D(e=>e-1),[]),children:(0,s.jsx)(d.WV.div,{tabIndex:R||0===Z?-1:0,"data-orientation":n,...w,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,l.M)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,l.M)(e.onFocus,e=>{let a=!_.current;if(e.target===e.currentTarget&&a&&!R){let a=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(a),!a.defaultPrevented){let e=P().filter(e=>e.focusable);I([e.find(e=>e.active),e.find(e=>e.id===M),...e].filter(Boolean).map(e=>e.ref.current),b)}}_.current=!1}),onBlur:(0,l.M)(e.onBlur,()=>T(!1))})})}),S="RovingFocusGroupItem",M=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:t,focusable:n=!0,active:i=!1,tabStopId:o,...m}=e,u=(0,c.M)(),x=o||u,h=w(S,t),p=h.currentTabStopId===x,f=y(t),{onFocusableItemAdd:j,onFocusableItemRemove:v}=h;return r.useEffect(()=>{if(n)return j(),()=>v()},[n,j,v]),(0,s.jsx)(g.ItemSlot,{scope:t,id:x,focusable:n,active:i,children:(0,s.jsx)(d.WV.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...m,ref:a,onMouseDown:(0,l.M)(e.onMouseDown,e=>{n?h.onItemFocus(x):e.preventDefault()}),onFocus:(0,l.M)(e.onFocus,()=>h.onItemFocus(x)),onKeyDown:(0,l.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let a=function(e,a,t){var s;let r=(s=e.key,"rtl"!==t?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===a&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===a&&["ArrowUp","ArrowDown"].includes(r)))return E[r]}(e,h.orientation,h.dir);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let t=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();let s=t.indexOf(e.currentTarget);t=h.loop?function(e,a){return e.map((t,s)=>e[(a+s)%e.length])}(t,s+1):t.slice(s+1)}setTimeout(()=>I(t))}})})})});M.displayName=S;var E={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I(e,a=!1){let t=document.activeElement;for(let s of e)if(s===t||(s.focus({preventScroll:a}),document.activeElement!==t))return}var R=t(8319),T="Tabs",[F,P]=(0,n.b)(T,[b]),_=b(),[Z,D]=F(T),A=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,onValueChange:l,defaultValue:n,orientation:i="horizontal",dir:o,activationMode:m="automatic",...h}=e,p=(0,x.gm)(o),[f,g]=(0,u.T)({prop:r,onChange:l,defaultProp:n});return(0,s.jsx)(Z,{scope:t,baseId:(0,c.M)(),value:f,onValueChange:g,orientation:i,dir:p,activationMode:m,children:(0,s.jsx)(d.WV.div,{dir:p,"data-orientation":i,...h,ref:a})})});A.displayName=T;var z="TabsList",O=r.forwardRef((e,a)=>{let{__scopeTabs:t,loop:r=!0,...l}=e,n=D(z,t),i=_(t);return(0,s.jsx)(k,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:r,children:(0,s.jsx)(d.WV.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:a})})});O.displayName=z;var $="TabsTrigger",V=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...i}=e,o=D($,t),c=_(t),m=U(o.baseId,r),u=Y(o.baseId,r),x=r===o.value;return(0,s.jsx)(M,{asChild:!0,...c,focusable:!n,active:x,children:(0,s.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":u,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...i,ref:a,onMouseDown:(0,l.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,l.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,l.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||n||!e||o.onValueChange(r)})})})});V.displayName=$;var B="TabsContent",L=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:l,forceMount:n,children:i,...o}=e,c=D(B,t),m=U(c.baseId,l),u=Y(c.baseId,l),x=l===c.value,h=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(R.z,{present:n||x,children:({present:t})=>(0,s.jsx)(d.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:u,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&i})})});function U(e,a){return`${e}-trigger-${a}`}function Y(e,a){return`${e}-content-${a}`}L.displayName=B;var q=t(5709);let Q=A,W=r.forwardRef(({className:e,...a},t)=>s.jsx(O,{ref:t,className:(0,q.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));W.displayName=O.displayName;let G=r.forwardRef(({className:e,...a},t)=>s.jsx(V,{ref:t,className:(0,q.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));G.displayName=V.displayName;let J=r.forwardRef(({className:e,...a},t)=>s.jsx(L,{ref:t,className:(0,q.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));J.displayName=L.displayName},1262:(e,a,t)=>{"use strict";t.d(a,{g:()=>n});var s=t(4848),r=t(5642),l=t(5709);let n=r.forwardRef(({className:e,...a},t)=>s.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));n.displayName="Textarea"},7403:(e,a,t)=>{"use strict";function s(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}t.d(a,{xG:()=>s})},368:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(7138).createProxy)(String.raw`/home/ubuntu/moneymitra/app/app/transactions/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[5923,474,5098,7380,8813,5515,7603],()=>t(3962));module.exports=s})();