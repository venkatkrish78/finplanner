(()=>{var e={};e.id=9639,e.ids=[9639],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9516:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(521),s(7699),s(6289);var t=s(2752),l=s(7380),r=s(459),n=s.n(r),i=s(8119),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(a,o);let d=["",{children:["goals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,521)),"/home/ubuntu/moneymitra/app/app/goals/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7699)),"/home/ubuntu/moneymitra/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,6289,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/moneymitra/app/app/goals/page.tsx"],x="/goals/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/goals/page",pathname:"/goals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2920:(e,a,s)=>{Promise.resolve().then(s.bind(s,5010))},5010:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>w});var t=s(4848),l=s(5642),r=s(6992),n=s(391),i=s(8287),o=s(4857),d=s(2303),c=s(1276),x=s(2378),m=s(1203),u=s(4501),h=s(7403),p=s(4339),g=s(5205),j=s(7767),v=s(1262),y=s(2595),f=s(6157),b=s(4714);function N({open:e,onOpenChange:a,onGoalAdded:s}){let[r,n]=(0,l.useState)({name:"",description:"",goalType:"",targetAmount:"",targetDate:"",categoryId:""}),[o,d]=(0,l.useState)([]),[c,x]=(0,l.useState)(!1),m=async e=>{if(e.preventDefault(),!r.name||!r.goalType||!r.targetAmount){b.Am.error("Please fill in all required fields");return}x(!0);try{let e={...r,targetAmount:parseFloat(r.targetAmount),categoryId:r.categoryId||null,targetDate:r.targetDate||null},t=await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)b.Am.success("Goal created successfully!"),s(),a(!1),n({name:"",description:"",goalType:"",targetAmount:"",targetDate:"",categoryId:""});else{let e=await t.json();b.Am.error(e.error||"Failed to create goal")}}catch(e){console.error("Error creating goal:",e),b.Am.error("Failed to create goal")}finally{x(!1)}},u=[{value:f.lC.SAVINGS,label:"Savings"},{value:f.lC.EMERGENCY_FUND,label:"Emergency Fund"},{value:f.lC.HOUSE,label:"House"},{value:f.lC.EDUCATION,label:"Education"},{value:f.lC.VACATION,label:"Vacation"},{value:f.lC.RETIREMENT,label:"Retirement"},{value:f.lC.INVESTMENT,label:"Investment"},{value:f.lC.DEBT_PAYOFF,label:"Debt Payoff"},{value:f.lC.OTHER,label:"Other"}];return t.jsx(p.Vq,{open:e,onOpenChange:a,children:(0,t.jsxs)(p.cZ,{className:"sm:max-w-[500px]",children:[t.jsx(p.fK,{children:t.jsx(p.$N,{children:"Add New Financial Goal"})}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"name",children:"Goal Name"}),t.jsx(g.I,{id:"name",value:r.name,onChange:e=>n({...r,name:e.target.value}),placeholder:"e.g., Emergency Fund, House Down Payment",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"goalType",children:"Goal Type"}),(0,t.jsxs)(y.Ph,{value:r.goalType,onValueChange:e=>n({...r,goalType:e}),required:!0,children:[t.jsx(y.i4,{children:t.jsx(y.ki,{placeholder:"Select goal type"})}),t.jsx(y.Bw,{children:u.map(e=>t.jsx(y.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"targetAmount",children:"Target Amount (â‚¹)"}),t.jsx(g.I,{id:"targetAmount",type:"number",value:r.targetAmount,onChange:e=>n({...r,targetAmount:e.target.value}),placeholder:"100000",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"targetDate",children:"Target Date (Optional)"}),t.jsx(g.I,{id:"targetDate",type:"date",value:r.targetDate,onChange:e=>n({...r,targetDate:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"categoryId",children:"Category (Optional)"}),(0,t.jsxs)(y.Ph,{value:r.categoryId,onValueChange:e=>n({...r,categoryId:e}),children:[t.jsx(y.i4,{children:t.jsx(y.ki,{placeholder:"Select category"})}),t.jsx(y.Bw,{children:o.map(e=>t.jsx(y.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"description",children:"Description (Optional)"}),t.jsx(v.g,{id:"description",value:r.description,onChange:e=>n({...r,description:e.target.value}),placeholder:"Additional details about your goal...",rows:3})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(i.z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx(i.z,{type:"submit",disabled:c,children:c?"Creating...":"Create Goal"})]})]})]})})}function w(){let[e,a]=(0,l.useState)(null),[s,p]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!1),v=async()=>{try{p(!0);let e=await fetch("/api/goals");if(e.ok){let s=await e.json(),t=s?.length||0,l=s?.filter(e=>"ACTIVE"===e.status).length||0,r=s?.filter(e=>"COMPLETED"===e.status).length||0,n=s?.reduce((e,a)=>e+a.targetAmount,0)||0,i=s?.reduce((e,a)=>e+a.currentAmount,0)||0;a({goals:s||[],stats:{totalGoals:t,targetAmount:n,currentAmount:i,averageProgress:t>0?i/n*100:0,completedGoals:r,activeGoals:l}})}}catch(e){console.error("Error fetching goals data:",e)}finally{p(!1)}};return s?t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,a)=>t.jsx("div",{className:"h-32 bg-slate-200 rounded"},a))})]})}):e?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:t.jsx(d.Z,{className:"h-6 w-6 text-white"})}),"Financial Goals"]}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Track your progress towards financial milestones"})]}),(0,t.jsxs)(i.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>j(!0),children:[t.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,t.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium text-slate-600",children:"Total Goals"}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(d.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,t.jsxs)(n.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-professional-blue",children:e.stats.totalGoals}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-emerald-100 text-emerald-700",children:[e.stats.activeGoals," Active"]}),(0,t.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-slate-100 text-slate-700",children:[e.stats.completedGoals," Completed"]})]})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,t.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium text-slate-600",children:"Target Amount"}),t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(x.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,t.jsxs)(n.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:(0,h.xG)(e.stats.targetAmount)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total target"})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,t.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium text-slate-600",children:"Current Amount"}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(m.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,t.jsxs)(n.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-professional-blue",children:(0,h.xG)(e.stats.currentAmount)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total saved"})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,t.jsxs)(n.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium text-slate-600",children:"Average Progress"}),t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(u.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,t.jsxs)(n.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:[e.stats.averageProgress.toFixed(1),"%"]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-emerald-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(e.stats.averageProgress,100)}%`}})})]})]})})]}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:(0,t.jsxs)(n.Zb,{className:"professional-card",children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"text-slate-900",children:["Goals (",e.goals.length,")"]})}),t.jsx(n.aY,{children:0===e.goals.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(d.Z,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No goals found"}),t.jsx("p",{className:"text-slate-600 mb-4",children:"Start by adding your first financial goal"}),(0,t.jsxs)(i.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>j(!0),children:[t.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}):t.jsx("div",{className:"space-y-4",children:e.goals.map(e=>(0,t.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-slate-100",children:t.jsx(d.Z,{className:"h-4 w-4 text-professional-blue"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:e.name}),t.jsx("p",{className:"text-sm text-slate-600",children:e.goalType})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-professional-blue",children:[(0,h.xG)(e.currentAmount)," / ",(0,h.xG)(e.targetAmount)]}),t.jsx(o.C,{variant:"ACTIVE"===e.status?"default":"secondary",children:e.status})]})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:t.jsx("div",{className:"bg-professional-blue h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(e.currentAmount/e.targetAmount*100,100)}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 mt-2",children:[(0,t.jsxs)("span",{children:[Math.round(e.currentAmount/e.targetAmount*100),"% complete"]}),e.targetDate&&(0,t.jsxs)("span",{children:["Due: ",new Date(e.targetDate).toLocaleDateString()]})]})]},e.id))})})]})})]}),t.jsx(N,{open:g,onOpenChange:j,onGoalAdded:()=>{j(!1),v()}})]}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Error loading goals"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Please try refreshing the page"})]})})}},4857:(e,a,s)=>{"use strict";s.d(a,{C:()=>i});var t=s(4848);s(5642);var l=s(5811),r=s(5709);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...s}){return t.jsx("div",{className:(0,r.cn)(n({variant:a}),e),...s})}},521:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(7138).createProxy)(String.raw`/home/ubuntu/moneymitra/app/app/goals/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[5923,9238,5188,4712,7603,8960],()=>s(9516));module.exports=t})();