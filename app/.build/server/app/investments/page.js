(()=>{var e={};e.id=9956,e.ids=[9956],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9674:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d}),a(2068),a(4364),a(2874);var t=a(7105),l=a(5265),r=a(157),i=a.n(r),n=a(4665),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["investments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2068)),"/home/ubuntu/moneymitra/app/app/investments/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4364)),"/home/ubuntu/moneymitra/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,2874,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/moneymitra/app/app/investments/page.tsx"],m="/investments/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/investments/page",pathname:"/investments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7337:(e,s,a)=>{Promise.resolve().then(a.bind(a,970))},970:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var t=a(9899),l=a(5507),r=a(5767),i=a(5858),n=a(7241),c=a(9205),d=a(7067);let o=(0,a(1278).Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var m=a(9804),x=a(8223),u=a(4359),h=a(1775),p=a(6711),v=a(8455),g=a(3184),j=a(2577),y=a(2759);let f=[{value:"STOCKS",label:"Stocks"},{value:"MUTUAL_FUNDS",label:"Mutual Funds"},{value:"CRYPTO",label:"Cryptocurrency"},{value:"REAL_ESTATE",label:"Real Estate"},{value:"GOLD",label:"Gold"},{value:"BONDS",label:"Bonds"},{value:"PPF",label:"PPF"},{value:"EPF",label:"EPF"},{value:"NSC",label:"NSC"},{value:"ELSS",label:"ELSS"},{value:"FD",label:"Fixed Deposit"},{value:"RD",label:"Recurring Deposit"},{value:"ETF",label:"ETF"},{value:"OTHER",label:"Other"}],b=[{value:"ZERODHA",label:"Zerodha"},{value:"GROWW",label:"Groww"},{value:"ANGEL_ONE",label:"Angel One"},{value:"UPSTOX",label:"Upstox"},{value:"PAYTM_MONEY",label:"Paytm Money"},{value:"KUVERA",label:"Kuvera"},{value:"COIN_DCBBANK",label:"Coin by Zerodha"},{value:"HDFC_SECURITIES",label:"HDFC Securities"},{value:"ICICI_DIRECT",label:"ICICI Direct"},{value:"KOTAK_SECURITIES",label:"Kotak Securities"},{value:"SBI_SECURITIES",label:"SBI Securities"},{value:"BANK_BRANCH",label:"Bank Branch"},{value:"POST_OFFICE",label:"Post Office"},{value:"OTHER",label:"Other"}];function N({open:e,onOpenChange:s,onInvestmentAdded:a}){let[r,i]=(0,l.useState)({name:"",symbol:"",assetClass:"",platform:"",quantity:"",purchasePrice:"",currentPrice:"",purchaseDate:"",description:"",goalId:"",categoryId:""}),[c,d]=(0,l.useState)([]),[o,m]=(0,l.useState)([]),[x,u]=(0,l.useState)(!1),N=async e=>{if(e.preventDefault(),!r.name||!r.assetClass||!r.platform||!r.quantity||!r.purchasePrice||!r.currentPrice){y.Am.error("Please fill in all required fields");return}u(!0);try{let e={name:r.name,symbol:r.symbol||null,assetClass:r.assetClass,platform:r.platform,quantity:parseFloat(r.quantity),purchasePrice:parseFloat(r.purchasePrice),currentPrice:parseFloat(r.currentPrice),purchaseDate:r.purchaseDate||null,description:r.description||null,goalId:r.goalId&&"no_goal"!==r.goalId?r.goalId:null,categoryId:r.categoryId&&"no_category"!==r.categoryId?r.categoryId:null},t=await fetch("/api/investments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)y.Am.success("Investment added successfully!"),a(),s(!1),i({name:"",symbol:"",assetClass:"",platform:"",quantity:"",purchasePrice:"",currentPrice:"",purchaseDate:"",description:"",goalId:"",categoryId:""});else{let e=await t.json();y.Am.error(e.error||"Failed to add investment")}}catch(e){console.error("Error adding investment:",e),y.Am.error("Failed to add investment")}finally{u(!1)}};return t.jsx(h.Vq,{open:e,onOpenChange:s,children:(0,t.jsxs)(h.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(h.fK,{children:t.jsx(h.$N,{children:"Add New Investment"})}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"name",children:"Investment Name *"}),t.jsx(p.I,{id:"name",value:r.name,onChange:e=>i({...r,name:e.target.value}),placeholder:"e.g., Reliance Industries, SBI Bluechip Fund",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"symbol",children:"Symbol/Code"}),t.jsx(p.I,{id:"symbol",value:r.symbol,onChange:e=>i({...r,symbol:e.target.value}),placeholder:"e.g., RELIANCE, 120503"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"assetClass",children:"Asset Class *"}),(0,t.jsxs)(j.Ph,{value:r.assetClass,onValueChange:e=>i({...r,assetClass:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select asset class"})}),t.jsx(j.Bw,{children:f.map(e=>t.jsx(j.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"platform",children:"Platform *"}),(0,t.jsxs)(j.Ph,{value:r.platform,onValueChange:e=>i({...r,platform:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select platform"})}),t.jsx(j.Bw,{children:b.map(e=>t.jsx(j.Ql,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"quantity",children:"Quantity *"}),t.jsx(p.I,{id:"quantity",type:"number",step:"0.001",value:r.quantity,onChange:e=>i({...r,quantity:e.target.value}),placeholder:"0",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"purchasePrice",children:"Purchase Price *"}),t.jsx(p.I,{id:"purchasePrice",type:"number",step:"0.01",value:r.purchasePrice,onChange:e=>i({...r,purchasePrice:e.target.value}),placeholder:"0.00",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"currentPrice",children:"Current Price *"}),t.jsx(p.I,{id:"currentPrice",type:"number",step:"0.01",value:r.currentPrice,onChange:e=>i({...r,currentPrice:e.target.value}),placeholder:"0.00",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"purchaseDate",children:"Purchase Date"}),t.jsx(p.I,{id:"purchaseDate",type:"date",value:r.purchaseDate,onChange:e=>i({...r,purchaseDate:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"goalId",children:"Link to Goal (Optional)"}),(0,t.jsxs)(j.Ph,{value:r.goalId,onValueChange:e=>i({...r,goalId:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select a goal"})}),(0,t.jsxs)(j.Bw,{children:[t.jsx(j.Ql,{value:"no_goal",children:"No goal"}),c.map(e=>t.jsx(j.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"categoryId",children:"Category (Optional)"}),(0,t.jsxs)(j.Ph,{value:r.categoryId,onValueChange:e=>i({...r,categoryId:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select a category"})}),(0,t.jsxs)(j.Bw,{children:[t.jsx(j.Ql,{value:"no_category",children:"No category"}),o.map(e=>t.jsx(j.Ql,{value:e.id,children:e.name},e.id))]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"description",children:"Description"}),t.jsx(g.g,{id:"description",value:r.description,onChange:e=>i({...r,description:e.target.value}),placeholder:"Additional notes about this investment",rows:3})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(n.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(n.z,{type:"submit",disabled:x,className:"bg-green-600 hover:bg-green-700",children:x?"Adding...":"Add Investment"})]})]})]})})}var C=a(6153),I=a(6523),S=a(4964),w=a(6903),E=a(8514),P=a(9118),A=a(6019),O=a(4672),D=a(1581);let T=[{value:"STOCKS",label:"Stocks"},{value:"MUTUAL_FUNDS",label:"Mutual Funds"},{value:"CRYPTO",label:"Cryptocurrency"},{value:"REAL_ESTATE",label:"Real Estate"},{value:"GOLD",label:"Gold"},{value:"BONDS",label:"Bonds"},{value:"PPF",label:"PPF"},{value:"EPF",label:"EPF"},{value:"NSC",label:"NSC"},{value:"ELSS",label:"ELSS"},{value:"FD",label:"Fixed Deposit"},{value:"RD",label:"Recurring Deposit"},{value:"ETF",label:"ETF"},{value:"OTHER",label:"Other"}],_=[{value:"ZERODHA",label:"Zerodha"},{value:"GROWW",label:"Groww"},{value:"ANGEL_ONE",label:"Angel One"},{value:"UPSTOX",label:"Upstox"},{value:"PAYTM_MONEY",label:"Paytm Money"},{value:"KUVERA",label:"Kuvera"},{value:"COIN_DCBBANK",label:"Coin by Zerodha"},{value:"HDFC_SECURITIES",label:"HDFC Securities"},{value:"ICICI_DIRECT",label:"ICICI Direct"},{value:"KOTAK_SECURITIES",label:"Kotak Securities"},{value:"SBI_SECURITIES",label:"SBI Securities"},{value:"BANK_BRANCH",label:"Bank Branch"},{value:"POST_OFFICE",label:"Post Office"},{value:"OTHER",label:"Other"}];function F({open:e,onOpenChange:s,investment:a,onInvestmentUpdated:r}){let[i,c]=(0,l.useState)({name:"",symbol:"",assetClass:"",platform:"",currentPrice:"",description:"",isActive:!0}),[d,o]=(0,l.useState)(!1),m=async e=>{if(e.preventDefault(),!a||!i.name||!i.assetClass||!i.platform){y.Am.error("Please fill in all required fields");return}o(!0);try{let e={name:i.name,symbol:i.symbol||null,assetClass:i.assetClass,platform:i.platform,currentPrice:i.currentPrice?parseFloat(i.currentPrice):void 0,description:i.description||null,isActive:i.isActive},t=await fetch(`/api/investments/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)y.Am.success("Investment updated successfully!"),r(),s(!1);else{let e=await t.json();y.Am.error(e.error||"Failed to update investment")}}catch(e){console.error("Error updating investment:",e),y.Am.error("Failed to update investment")}finally{o(!1)}};return a?t.jsx(h.Vq,{open:e,onOpenChange:s,children:(0,t.jsxs)(h.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(h.fK,{children:t.jsx(h.$N,{children:"Edit Investment"})}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"name",children:"Investment Name *"}),t.jsx(p.I,{id:"name",value:i.name,onChange:e=>c({...i,name:e.target.value}),placeholder:"e.g., Reliance Industries, SBI Bluechip Fund",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"symbol",children:"Symbol/Code"}),t.jsx(p.I,{id:"symbol",value:i.symbol,onChange:e=>c({...i,symbol:e.target.value}),placeholder:"e.g., RELIANCE, 120503"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"assetClass",children:"Asset Class *"}),(0,t.jsxs)(j.Ph,{value:i.assetClass,onValueChange:e=>c({...i,assetClass:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select asset class"})}),t.jsx(j.Bw,{children:T.map(e=>t.jsx(j.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"platform",children:"Platform *"}),(0,t.jsxs)(j.Ph,{value:i.platform,onValueChange:e=>c({...i,platform:e}),children:[t.jsx(j.i4,{children:t.jsx(j.ki,{placeholder:"Select platform"})}),t.jsx(j.Bw,{children:_.map(e=>t.jsx(j.Ql,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"currentPrice",children:"Current Price"}),t.jsx(p.I,{id:"currentPrice",type:"number",step:"0.01",value:i.currentPrice,onChange:e=>c({...i,currentPrice:e.target.value}),placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Update current price to recalculate current value"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(v._,{htmlFor:"description",children:"Description"}),t.jsx(g.g,{id:"description",value:i.description,onChange:e=>c({...i,description:e.target.value}),placeholder:"Additional notes about this investment",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:e=>c({...i,isActive:e.target.checked}),className:"rounded border-gray-300"}),t.jsx(v._,{htmlFor:"isActive",children:"Active Investment"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Investment Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Quantity"}),t.jsx("p",{className:"font-medium",children:a.quantity?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Purchase Price"}),(0,t.jsxs)("p",{className:"font-medium",children:["₹",a.averagePrice?.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Total Invested"}),(0,t.jsxs)("p",{className:"font-medium",children:["₹",a.totalInvested?.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Current Value"}),(0,t.jsxs)("p",{className:"font-medium",children:["₹",a.currentValue?.toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(n.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(n.z,{type:"submit",disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:d?"Updating...":"Update Investment"})]})]})]})}):null}var k=a(1508);function R({open:e,onOpenChange:s,investment:a,onInvestmentDeleted:r}){let[i,n]=(0,l.useState)(!1),c=async()=>{if(a){n(!0);try{let e=await fetch(`/api/investments/${a.id}`,{method:"DELETE"});if(e.ok)y.Am.success("Investment deleted successfully!"),r(),s(!1);else{let s=await e.json();y.Am.error(s.error||"Failed to delete investment")}}catch(e){console.error("Error deleting investment:",e),y.Am.error("Failed to delete investment")}finally{n(!1)}}};return a?t.jsx(k.aR,{open:e,onOpenChange:s,children:(0,t.jsxs)(k._T,{children:[(0,t.jsxs)(k.fY,{children:[t.jsx(k.f$,{children:"Delete Investment"}),t.jsx(k.yT,{asChild:!0,children:(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("p",{children:"Are you sure you want to delete this investment? This action cannot be undone."}),(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[t.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:a.name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Current Value:"}),t.jsx("span",{className:"font-medium ml-2",children:(0,u.xG)(a.currentValue)})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Total Invested:"}),t.jsx("span",{className:"font-medium ml-2",children:(0,u.xG)(a.totalInvested)})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Asset Class:"}),t.jsx("span",{className:"font-medium ml-2",children:a.assetClass.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Platform:"}),t.jsx("span",{className:"font-medium ml-2",children:a.platform})]})]})]}),(a.linkedGoals?.length>0||a.goal)&&t.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:t.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"⚠️ This investment is linked to goals. Deleting it will remove these links."})})]})})]}),(0,t.jsxs)(k.xo,{children:[t.jsx(k.le,{disabled:i,children:"Cancel"}),t.jsx(k.OL,{onClick:c,disabled:i,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:i?"Deleting...":"Delete Investment"})]})]})}):null}let G={STOCKS:"bg-blue-100 text-blue-800",MUTUAL_FUNDS:"bg-green-100 text-green-800",CRYPTO:"bg-purple-100 text-purple-800",REAL_ESTATE:"bg-orange-100 text-orange-800",GOLD:"bg-yellow-100 text-yellow-800",BONDS:"bg-indigo-100 text-indigo-800",PPF:"bg-emerald-100 text-emerald-800",EPF:"bg-teal-100 text-teal-800",NSC:"bg-cyan-100 text-cyan-800",ELSS:"bg-lime-100 text-lime-800",FD:"bg-amber-100 text-amber-800",RD:"bg-rose-100 text-rose-800",ETF:"bg-violet-100 text-violet-800",OTHER:"bg-gray-100 text-gray-800"},L={ZERODHA:"Zerodha",GROWW:"Groww",ANGEL_ONE:"Angel One",UPSTOX:"Upstox",PAYTM_MONEY:"Paytm Money",KUVERA:"Kuvera",COIN_DCBBANK:"Coin by Zerodha",HDFC_SECURITIES:"HDFC Securities",ICICI_DIRECT:"ICICI Direct",KOTAK_SECURITIES:"Kotak Securities",SBI_SECURITIES:"SBI Securities",BANK_BRANCH:"Bank Branch",POST_OFFICE:"Post Office",OTHER:"Other"},Z={[D.lC.SAVINGS]:"bg-green-100 text-green-800",[D.lC.DEBT_PAYOFF]:"bg-red-100 text-red-800",[D.lC.INVESTMENT]:"bg-blue-100 text-blue-800",[D.lC.EMERGENCY_FUND]:"bg-orange-100 text-orange-800",[D.lC.EDUCATION]:"bg-purple-100 text-purple-800",[D.lC.HOUSE]:"bg-indigo-100 text-indigo-800",[D.lC.VACATION]:"bg-pink-100 text-pink-800",[D.lC.RETIREMENT]:"bg-gray-100 text-gray-800",[D.lC.OTHER]:"bg-yellow-100 text-yellow-800"};function B({investments:e,onInvestmentUpdated:s}){let a=(0,C.useRouter)(),[d,o]=(0,l.useState)(null),[m,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),v=e=>{o(e),x(!0)},g=e=>{o(e),p(!0)},j=()=>{o(null),x(!1),p(!1)},y=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600",f=e=>e>0?t.jsx(c.Z,{className:"h-4 w-4"}):e<0?t.jsx(S.Z,{className:"h-4 w-4"}):null;return 0===e.length?t.jsx(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(w.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No investments yet"}),t.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Start building your investment portfolio by adding your first investment"})]})}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Investments"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.length," investments"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,s)=>{let l=e.currentValue-e.totalInvested,c=e.totalInvested>0?l/e.totalInvested*100:0;return t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,t.jsxs)(i.Zb,{className:"hover:shadow-lg transition-shadow duration-200 group",children:[t.jsx(i.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(i.ll,{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),e.symbol&&t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.symbol}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[t.jsx(I.C,{className:G[e.assetClass],children:e.assetClass.replace("_"," ")}),t.jsx(I.C,{variant:"outline",className:"text-xs",children:L[e.platform]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>a.push(`/investments/${e.id}`),title:"View Details",className:"h-8 w-8 p-0",children:t.jsx(E.Z,{className:"h-4 w-4"})}),t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>v(e),title:"Edit Investment",className:"h-8 w-8 p-0",children:t.jsx(P.Z,{className:"h-4 w-4"})}),t.jsx(n.z,{variant:"ghost",size:"sm",title:"Link to Goal",className:"h-8 w-8 p-0",children:t.jsx(A.Z,{className:"h-4 w-4"})}),t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>g(e),title:"Delete Investment",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:t.jsx(O.Z,{className:"h-4 w-4"})})]})]})}),t.jsx(i.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Quantity"}),t.jsx("span",{className:"font-medium",children:e.quantity.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Avg. Price"}),t.jsx("span",{className:"font-medium",children:(0,u.xG)(e.averagePrice)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Current Price"}),t.jsx("span",{className:"font-medium",children:(0,u.xG)(e.currentPrice)})]}),(0,t.jsxs)("div",{className:"border-t pt-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Invested"}),t.jsx("span",{className:"font-medium",children:(0,u.xG)(e.totalInvested)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Current Value"}),t.jsx("span",{className:"font-semibold",children:(0,u.xG)(e.currentValue)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Gain/Loss"}),(0,t.jsxs)("div",{className:`flex items-center gap-1 font-semibold ${y(l)}`,children:[f(l),t.jsx("span",{children:(0,u.xG)(Math.abs(l))}),(0,t.jsxs)("span",{className:"text-xs",children:["(",c>0?"+":"",c.toFixed(2),"%)"]})]})]})]}),e.linkedGoals?.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Linked Goals:"}),e.linkedGoals.map(s=>t.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(w.Z,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-blue-800 font-medium",children:s.name}),t.jsx(I.C,{className:Z[s.goalType]||"bg-gray-100 text-gray-800",variant:"secondary",children:s.goalType.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-xs text-blue-600",children:[s.allocation,"% allocation"]}),"linked"===s.linkType&&t.jsx("p",{className:"text-xs text-gray-500",children:(0,u.xG)(e.currentValue*(s.allocation/100))})]})]})},s.id))]}),e.goal&&!e.linkedGoals?.length&&t.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(w.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-sm text-blue-800",children:["Linked to: ",e.goal.name]})]})})]})})]})},e.id)})}),t.jsx(F,{open:m,onOpenChange:e=>{x(e),e||j()},investment:d,onInvestmentUpdated:s}),t.jsx(R,{open:h,onOpenChange:e=>{p(e),e||j()},investment:d,onInvestmentDeleted:s})]})}function U(){let[e,s]=(0,l.useState)(null),[a,h]=(0,l.useState)(!0),[p,v]=(0,l.useState)(!1),g=async()=>{try{h(!0);let[e,a]=await Promise.all([fetch("/api/investments?includeGoals=true"),fetch("/api/investments/portfolio")]),t=e.ok?await e.json():[],l=a.ok?await a.json():null,r=l?l.stats:{totalInvestments:0,totalInvested:0,currentValue:0,totalGainLoss:0,totalGainLossPercentage:0};s({investments:t,portfolio:r})}catch(e){console.error("Error fetching investments data:",e)}finally{h(!1)}};return a?t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>t.jsx("div",{className:"h-32 bg-slate-200 rounded"},s))})]})}):e?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:t.jsx(c.Z,{className:"h-6 w-6 text-white"})}),"Investment Portfolio"]}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Track your investments and monitor portfolio performance"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>v(!0),children:[t.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Add Investment"]}),(0,t.jsxs)(n.z,{variant:"outline",className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:[t.jsx(o,{className:"h-4 w-4 mr-2"}),"Start SIP"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,t.jsxs)(i.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium text-slate-600",children:"Total Investments"}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(c.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-professional-blue",children:e.portfolio.totalInvestments}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Active investments"})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,t.jsxs)(i.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium text-slate-600",children:"Invested Value"}),t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(m.Z,{className:"h-4 w-4 text-slate-600"})})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-600",children:(0,u.xG)(e.portfolio.totalInvested)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total invested"})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,t.jsxs)(i.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium text-slate-600",children:"Current Value"}),t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(c.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:(0,u.xG)(e.portfolio.currentValue)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Market value"})]})]})}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,t.jsxs)(i.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium text-slate-600",children:"Gain/Loss"}),t.jsx("div",{className:`p-2 rounded-lg ${e.portfolio.totalGainLoss>=0?"bg-emerald-100":"bg-red-100"}`,children:t.jsx(x.Z,{className:`h-4 w-4 ${e.portfolio.totalGainLoss>=0?"text-emerald-600":"text-red-600"}`})})]}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:`text-2xl font-bold ${e.portfolio.totalGainLoss>=0?"text-emerald-600":"text-red-600"}`,children:[e.portfolio.totalGainLoss>=0?"+":"",(0,u.xG)(e.portfolio.totalGainLoss)]}),(0,t.jsxs)("p",{className:`text-xs mt-1 ${e.portfolio.totalGainLoss>=0?"text-emerald-600":"text-red-600"}`,children:[e.portfolio.totalGainLoss>=0?"+":"",e.portfolio.totalGainLossPercentage.toFixed(2),"%"]})]})]})})]}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:t.jsx(B,{investments:e.investments,onInvestmentUpdated:g})})]}),t.jsx(N,{open:p,onOpenChange:v,onInvestmentAdded:()=>{v(!1),g()}})]}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Error loading investments"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Please try refreshing the page"})]})})}},1508:(e,s,a)=>{"use strict";a.d(s,{OL:()=>v,_T:()=>m,aR:()=>c,f$:()=>h,fY:()=>x,le:()=>g,xo:()=>u,yT:()=>p});var t=a(9899),l=a(5507),r=a(5622),i=a(6409),n=a(7241);let c=r.fC;r.xz;let d=r.h_,o=l.forwardRef(({className:e,...s},a)=>t.jsx(r.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));o.displayName=r.aV.displayName;let m=l.forwardRef(({className:e,...s},a)=>(0,t.jsxs)(d,{children:[t.jsx(o,{}),t.jsx(r.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));m.displayName=r.VY.displayName;let x=({className:e,...s})=>t.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});x.displayName="AlertDialogHeader";let u=({className:e,...s})=>t.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="AlertDialogFooter";let h=l.forwardRef(({className:e,...s},a)=>t.jsx(r.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold",e),...s}));h.displayName=r.Dx.displayName;let p=l.forwardRef(({className:e,...s},a)=>t.jsx(r.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=r.dk.displayName;let v=l.forwardRef(({className:e,...s},a)=>t.jsx(r.aU,{ref:a,className:(0,i.cn)((0,n.d)(),e),...s}));v.displayName=r.aU.displayName;let g=l.forwardRef(({className:e,...s},a)=>t.jsx(r.$j,{ref:a,className:(0,i.cn)((0,n.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));g.displayName=r.$j.displayName},9804:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8514:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6019:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},8223:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},4964:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},2068:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(2772).createProxy)(String.raw`/home/ubuntu/moneymitra/app/app/investments/page.tsx#default`)},5622:(e,s,a)=>{"use strict";a.d(s,{$j:()=>R,Dx:()=>G,VY:()=>F,aU:()=>k,aV:()=>_,dk:()=>L,fC:()=>O,h_:()=>T,xz:()=>D});var t=a(5507),l=a(4076),r=a(9932),i=a(6551),n=a(8762),c=a(4036),d=a(9899),o="AlertDialog",[m,x]=(0,l.b)(o,[i.p8]),u=(0,i.p8)(),h=e=>{let{__scopeAlertDialog:s,...a}=e,t=u(s);return(0,d.jsx)(i.fC,{...t,...a,modal:!0})};h.displayName=o;var p=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,l=u(a);return(0,d.jsx)(i.xz,{...l,...t,ref:s})});p.displayName="AlertDialogTrigger";var v=e=>{let{__scopeAlertDialog:s,...a}=e,t=u(s);return(0,d.jsx)(i.h_,{...t,...a})};v.displayName="AlertDialogPortal";var g=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,l=u(a);return(0,d.jsx)(i.aV,{...l,...t,ref:s})});g.displayName="AlertDialogOverlay";var j="AlertDialogContent",[y,f]=m(j),b=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:l,...o}=e,m=u(a),x=t.useRef(null),h=(0,r.e)(s,x),p=t.useRef(null);return(0,d.jsx)(i.jm,{contentName:j,titleName:N,docsSlug:"alert-dialog",children:(0,d.jsx)(y,{scope:a,cancelRef:p,children:(0,d.jsxs)(i.VY,{role:"alertdialog",...m,...o,ref:h,onOpenAutoFocus:(0,n.M)(o.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(c.A4,{children:l}),(0,d.jsx)(A,{contentRef:x})]})})})});b.displayName=j;var N="AlertDialogTitle",C=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,l=u(a);return(0,d.jsx)(i.Dx,{...l,...t,ref:s})});C.displayName=N;var I="AlertDialogDescription",S=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,l=u(a);return(0,d.jsx)(i.dk,{...l,...t,ref:s})});S.displayName=I;var w=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,l=u(a);return(0,d.jsx)(i.x8,{...l,...t,ref:s})});w.displayName="AlertDialogAction";var E="AlertDialogCancel",P=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,{cancelRef:l}=f(E,a),n=u(a),c=(0,r.e)(s,l);return(0,d.jsx)(i.x8,{...n,...t,ref:c})});P.displayName=E;var A=({contentRef:e})=>{let s=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${I}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},O=h,D=p,T=v,_=g,F=b,k=w,R=P,G=C,L=S}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[5942,300,3199,814,6142],()=>a(9674));module.exports=t})();