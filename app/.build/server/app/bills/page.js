(()=>{var e={};e.id=6023,e.ids=[6023],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2152:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(6444),t(7699),t(6289);var a=t(2752),l=t(7380),i=t(459),r=t.n(i),n=t(8119),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["bills",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6444)),"/home/ubuntu/moneymitra/app/app/bills/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7699)),"/home/ubuntu/moneymitra/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,6289,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/moneymitra/app/app/bills/page.tsx"],x="/bills/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/bills/page",pathname:"/bills",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8158:(e,s,t)=>{Promise.resolve().then(t.bind(t,8567))},8567:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(4848),l=t(5642),i=t(6992),r=t(391),n=t(8287),d=t(4857),o=t(2747),c=t(1276),x=t(2378);let m=(0,t(93).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var u=t(9197),h=t(7403),p=t(4339),j=t(5205),y=t(7767),b=t(1262),v=t(2595),f=t(4714),g=t(6157);function N({open:e,onOpenChange:s,onBillAdded:t,editingBill:i}){let[r,d]=(0,l.useState)([]),[o,c]=(0,l.useState)(!1),[x,m]=(0,l.useState)({name:"",amount:0,frequency:g.tx.MONTHLY,description:"",categoryId:"",nextDueDate:""}),u=async e=>{if(e.preventDefault(),!x.name||!x.amount||!x.categoryId||!x.nextDueDate){f.Am.error("Please fill in all required fields");return}c(!0);try{let e=i?`/api/bills/${i.id}`:"/api/bills",a={...x,amount:parseFloat(x.amount.toString())},l=await fetch(e,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok)f.Am.success(`Bill ${i?"updated":"created"} successfully`),t(),s(!1);else{let e=await l.json();f.Am.error(e.error||`Failed to ${i?"update":"create"} bill`)}}catch(e){console.error("Error saving bill:",e),f.Am.error(`Failed to ${i?"update":"create"} bill`)}finally{c(!1)}},h=[{value:g.tx.WEEKLY,label:"Weekly"},{value:g.tx.MONTHLY,label:"Monthly"},{value:g.tx.QUARTERLY,label:"Quarterly"},{value:g.tx.HALF_YEARLY,label:"Half-yearly"},{value:g.tx.YEARLY,label:"Yearly"}];return a.jsx(p.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(p.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(p.fK,{children:[a.jsx(p.$N,{children:i?"Edit Bill":"Add New Bill"}),a.jsx(p.Be,{children:i?"Update the bill details below.":"Create a new recurring bill to track your regular payments."})]}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"name",children:"Bill Name *"}),a.jsx(j.I,{id:"name",value:x.name,onChange:e=>m({...x,name:e.target.value}),placeholder:"e.g., Electricity Bill, Rent, Netflix",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"amount",children:"Amount (â‚¹) *"}),a.jsx(j.I,{id:"amount",type:"number",step:"0.01",min:"0",value:x.amount||"",onChange:e=>m({...x,amount:parseFloat(e.target.value)||0}),placeholder:"0.00",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"frequency",children:"Frequency *"}),(0,a.jsxs)(v.Ph,{value:x.frequency,onValueChange:e=>m({...x,frequency:e}),children:[a.jsx(v.i4,{children:a.jsx(v.ki,{})}),a.jsx(v.Bw,{children:h.map(e=>a.jsx(v.Ql,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"category",children:"Category *"}),(0,a.jsxs)(v.Ph,{value:x.categoryId,onValueChange:e=>m({...x,categoryId:e}),children:[a.jsx(v.i4,{children:a.jsx(v.ki,{placeholder:"Select a category"})}),a.jsx(v.Bw,{children:r.map(e=>a.jsx(v.Ql,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),e.name]})},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"nextDueDate",children:"Next Due Date *"}),a.jsx(j.I,{id:"nextDueDate",type:"date",value:x.nextDueDate,onChange:e=>m({...x,nextDueDate:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(y._,{htmlFor:"description",children:"Description"}),a.jsx(b.g,{id:"description",value:x.description,onChange:e=>m({...x,description:e.target.value}),placeholder:"Optional description or notes",rows:3})]}),(0,a.jsxs)(p.cN,{children:[a.jsx(n.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsx(n.z,{type:"submit",disabled:o,children:o?"Saving...":i?"Update Bill":"Create Bill"})]})]})]})})}function w(){let[e,s]=(0,l.useState)(null),[t,p]=(0,l.useState)(!0),[j,y]=(0,l.useState)(!1),b=async()=>{try{p(!0);let[e,t]=await Promise.all([fetch("/api/bills"),fetch("/api/bills/stats")]),a=e.ok?await e.json():[],l=t.ok?await t.json():{totalMonthlyBills:0,paidThisMonth:0,pendingThisMonth:0,overdueCount:0,upcomingWeek:0},i=a.reduce((e,s)=>"MONTHLY"===s.frequency?e+s.amount:"WEEKLY"===s.frequency?e+4.33*s.amount:"QUARTERLY"===s.frequency?e+s.amount/3:"HALF_YEARLY"===s.frequency?e+s.amount/6:"YEARLY"===s.frequency?e+s.amount/12:e,0),r={totalBills:l.totalMonthlyBills,monthlyAmount:i,overdueBills:l.overdueCount,paidThisMonth:l.paidThisMonth};s({bills:a,stats:r})}catch(e){console.error("Error fetching bills data:",e)}finally{p(!1)}};return t?a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"h-32 bg-slate-200 rounded"},s))})]})}):e?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:a.jsx(o.Z,{className:"h-6 w-6 text-white"})}),"Bills & Utilities"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your recurring bills and track payments"})]}),(0,a.jsxs)(n.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>y(!0),children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Add Bill"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,a.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Total Bills"}),a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(o.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-professional-blue",children:e.stats.totalBills}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Active bills"})]})]})}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,a.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Monthly Amount"}),a.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:a.jsx(x.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:(0,h.xG)(e.stats.monthlyAmount)}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Average monthly"})]})]})}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,a.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Overdue Bills"}),a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(m,{className:"h-4 w-4 text-red-600"})})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.stats.overdueBills}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Need attention"})]})]})}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,a.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Paid This Month"}),a.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:a.jsx(u.Z,{className:"h-4 w-4 text-emerald-600"})})]}),(0,a.jsxs)(r.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:e.stats.paidThisMonth}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Completed payments"})]})]})})]}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:(0,a.jsxs)(r.Zb,{className:"professional-card",children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"text-slate-900",children:["Bills (",e.bills.length,")"]})}),a.jsx(r.aY,{children:0===e.bills.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(o.Z,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No bills found"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Start by adding your first bill"}),(0,a.jsxs)(n.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>y(!0),children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Add Bill"]})]}):a.jsx("div",{className:"space-y-4",children:e.bills.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-2 rounded-full bg-slate-100",children:a.jsx(o.Z,{className:"h-4 w-4 text-professional-blue"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:e.name}),a.jsx("p",{className:"text-sm text-slate-600",children:e.frequency})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-professional-blue",children:(0,h.xG)(e.amount)}),a.jsx(d.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})]},e.id))})})]})})]}),a.jsx(N,{open:j,onOpenChange:y,onBillAdded:()=>{y(!1),b()}})]}):a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Error loading bills"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Please try refreshing the page"})]})})}},4857:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(4848);t(5642);var l=t(5811),i=t(5709);let r=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return a.jsx("div",{className:(0,i.cn)(r({variant:s}),e),...t})}},9197:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(93).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6444:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(7138).createProxy)(String.raw`/home/ubuntu/moneymitra/app/app/bills/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[5923,9238,8951,4712,7603,8960],()=>t(2152));module.exports=a})();