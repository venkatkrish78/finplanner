"use strict";(()=>{var e={};e.id=7180,e.ids=[7180],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1658:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>b,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};a.r(n),a.d(n,{GET:()=>p,dynamic:()=>l});var r=a(921),s=a(7380),i=a(4185),o=a(3878),u=a(2334);let l="force-dynamic";async function p(e){try{let{searchParams:t}=new URL(e.url),a=t.get("status"),n=t.get("month"),r=t.get("year"),s=t.get("upcoming"),i=t.get("overdue"),l={};if(a&&(l.status=a),n&&r){let e=new Date(parseInt(r),parseInt(n)-1,1),t=new Date(parseInt(r),parseInt(n),0);l.dueDate={gte:e,lte:t}}if("true"===s){let e=new Date,t=new Date;t.setDate(e.getDate()+7),l.dueDate={gte:e,lte:t},l.status={in:["PENDING"]}}if("true"===i){let e=new Date;l.dueDate={lt:e},l.status="PENDING"}let p=await u._.billInstance.findMany({where:l,include:{bill:{include:{category:!0}},transaction:!0},orderBy:{dueDate:"asc"}});return o.NextResponse.json(p)}catch(e){return console.error("Error fetching bill instances:",e),o.NextResponse.json({error:"Failed to fetch bill instances"},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/bills/instances/route",pathname:"/api/bills/instances",filename:"route",bundlePath:"app/api/bills/instances/route"},resolvedPagePath:"/home/ubuntu/moneymitra/app/app/api/bills/instances/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=c,h="/api/bills/instances/route";function b(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},2334:(e,t,a)=>{a.d(t,{db:()=>s,_:()=>r});let n=require("@prisma/client"),r=globalThis.prisma??new n.PrismaClient,s=r}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[5923,7146],()=>a(1658));module.exports=n})();