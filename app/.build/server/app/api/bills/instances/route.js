"use strict";(()=>{var e={};e.id=7180,e.ids=[7180],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8194:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>b,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>p,dynamic:()=>l});var n=a(3277),s=a(5265),i=a(5356),o=a(7076),u=a(6059);let l="force-dynamic";async function p(e){try{let{searchParams:t}=new URL(e.url),a=t.get("status"),r=t.get("month"),n=t.get("year"),s=t.get("upcoming"),i=t.get("overdue"),l={};if(a&&(l.status=a),r&&n){let e=new Date(parseInt(n),parseInt(r)-1,1),t=new Date(parseInt(n),parseInt(r),0);l.dueDate={gte:e,lte:t}}if("true"===s){let e=new Date,t=new Date;t.setDate(e.getDate()+7),l.dueDate={gte:e,lte:t},l.status={in:["PENDING"]}}if("true"===i){let e=new Date;l.dueDate={lt:e},l.status="PENDING"}let p=await u._.billInstance.findMany({where:l,include:{bill:{include:{category:!0}},transaction:!0},orderBy:{dueDate:"asc"}});return o.NextResponse.json(p)}catch(e){return console.error("Error fetching bill instances:",e),o.NextResponse.json({error:"Failed to fetch bill instances"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/bills/instances/route",pathname:"/api/bills/instances",filename:"route",bundlePath:"app/api/bills/instances/route"},resolvedPagePath:"/home/ubuntu/moneymitra/app/app/api/bills/instances/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=c,h="/api/bills/instances/route";function b(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},6059:(e,t,a)=>{a.d(t,{_:()=>n,db:()=>s});var r=a(3524);let n=globalThis.prisma??new r.PrismaClient,s=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[5942,3786],()=>a(8194));module.exports=r})();