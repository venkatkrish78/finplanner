"use strict";(()=>{var e={};e.id=3400,e.ids=[3400],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4544:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>h,patchFetch:()=>k,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v});var r={};n.r(r),n.d(r,{DELETE:()=>p,PUT:()=>u,dynamic:()=>d});var i=n(921),o=n(7380),s=n(4185),a=n(3878),l=n(2334);let d="force-dynamic";async function u(e,{params:t}){try{let{linkId:n}=t,{allocation:r,notes:i}=await e.json();if(void 0!==r&&(r<0||r>100))return a.NextResponse.json({error:"Allocation must be between 0 and 100"},{status:400});let o={};void 0!==r&&(o.allocation=r),void 0!==i&&(o.notes=i);let s=await l._.investmentGoalLink.update({where:{id:n},data:o,include:{investment:{include:{category:!0}},goal:!0}});return a.NextResponse.json(s)}catch(e){return console.error("Error updating investment-goal link:",e),a.NextResponse.json({error:"Failed to update investment-goal link"},{status:500})}}async function p(e,{params:t}){try{let{linkId:e}=t;return await l._.investmentGoalLink.delete({where:{id:e}}),a.NextResponse.json({success:!0})}catch(e){return console.error("Error removing investment-goal link:",e),a.NextResponse.json({error:"Failed to remove investment-goal link"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/goals/[id]/investments/[linkId]/route",pathname:"/api/goals/[id]/investments/[linkId]",filename:"route",bundlePath:"app/api/goals/[id]/investments/[linkId]/route"},resolvedPagePath:"/home/ubuntu/moneymitra/app/app/api/goals/[id]/investments/[linkId]/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:v,serverHooks:g}=c,h="/api/goals/[id]/investments/[linkId]/route";function k(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}},2334:(e,t,n)=>{n.d(t,{db:()=>o,_:()=>i});let r=require("@prisma/client"),i=globalThis.prisma??new r.PrismaClient,o=i}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[5923,7146],()=>n(4544));module.exports=r})();