(()=>{var e={};e.id=3715,e.ids=[3715],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3403:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c}),s(1487),s(7699),s(6289);var t=s(2752),l=s(7380),n=s(459),r=s.n(n),i=s(8119),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let c=["",{children:["loans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1487)),"/home/ubuntu/moneymitra/app/app/loans/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7699)),"/home/ubuntu/moneymitra/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,6289,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/moneymitra/app/app/loans/page.tsx"],m="/loans/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/loans/page",pathname:"/loans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},542:(e,a,s)=>{Promise.resolve().then(s.bind(s,7625))},7625:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>U});var t=s(4848),l=s(5642),n=s(9631),r=s(391),i=s(8287),d=s(2241),c=s(1276),o=s(2378),m=s(3664),x=s(3537),p=s(7403),h=s(4339),u=s(5205),j=s(7767),y=s(1262),g=s(2595),N=s(6157),f=s(4714);function v({open:e,onOpenChange:a,onLoanAdded:s}){let[n,r]=(0,l.useState)({name:"",loanType:"",principalAmount:"",interestRate:"",tenure:"",startDate:"",description:"",categoryId:""}),[d,c]=(0,l.useState)([]),[o,m]=(0,l.useState)(!1),x=async e=>{if(e.preventDefault(),!n.name||!n.loanType||!n.principalAmount||!n.interestRate||!n.tenure||!n.startDate){f.Am.error("Please fill in all required fields");return}m(!0);try{let e={...n,principalAmount:parseFloat(n.principalAmount),interestRate:parseFloat(n.interestRate),tenure:parseInt(n.tenure),categoryId:n.categoryId||null},t=await fetch("/api/loans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)f.Am.success("Loan created successfully!"),s(),a(!1),r({name:"",loanType:"",principalAmount:"",interestRate:"",tenure:"",startDate:"",description:"",categoryId:""});else{let e=await t.json();f.Am.error(e.error||"Failed to create loan")}}catch(e){console.error("Error creating loan:",e),f.Am.error("Failed to create loan")}finally{m(!1)}},p=[{value:N.am.HOME_LOAN,label:"Home Loan"},{value:N.am.PERSONAL_LOAN,label:"Personal Loan"},{value:N.am.CAR_LOAN,label:"Car Loan"},{value:N.am.EDUCATION_LOAN,label:"Education Loan"},{value:N.am.CREDIT_CARD,label:"Credit Card"},{value:N.am.BUSINESS_LOAN,label:"Business Loan"},{value:N.am.GOLD_LOAN,label:"Gold Loan"},{value:N.am.OTHER,label:"Other"}],v=(()=>{let e=parseFloat(n.principalAmount),a=parseFloat(n.interestRate)/100/12,s=parseInt(n.tenure);return e&&a&&s?a>0?e*a*Math.pow(1+a,s)/(Math.pow(1+a,s)-1):e/s:0})();return t.jsx(h.Vq,{open:e,onOpenChange:a,children:(0,t.jsxs)(h.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[t.jsx(h.fK,{children:t.jsx(h.$N,{children:"Add New Loan"})}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"name",children:"Loan Name"}),t.jsx(u.I,{id:"name",value:n.name,onChange:e=>r({...n,name:e.target.value}),placeholder:"e.g., Home Loan - SBI",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"loanType",children:"Loan Type"}),(0,t.jsxs)(g.Ph,{value:n.loanType,onValueChange:e=>r({...n,loanType:e}),required:!0,children:[t.jsx(g.i4,{children:t.jsx(g.ki,{placeholder:"Select loan type"})}),t.jsx(g.Bw,{children:p.map(e=>t.jsx(g.Ql,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"principalAmount",children:"Principal Amount (₹)"}),t.jsx(u.I,{id:"principalAmount",type:"number",value:n.principalAmount,onChange:e=>r({...n,principalAmount:e.target.value}),placeholder:"1000000",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"interestRate",children:"Interest Rate (% p.a.)"}),t.jsx(u.I,{id:"interestRate",type:"number",step:"0.01",value:n.interestRate,onChange:e=>r({...n,interestRate:e.target.value}),placeholder:"8.5",min:"0",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"tenure",children:"Tenure (months)"}),t.jsx(u.I,{id:"tenure",type:"number",value:n.tenure,onChange:e=>r({...n,tenure:e.target.value}),placeholder:"240",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"startDate",children:"Start Date"}),t.jsx(u.I,{id:"startDate",type:"date",value:n.startDate,onChange:e=>r({...n,startDate:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"categoryId",children:"Category (Optional)"}),(0,t.jsxs)(g.Ph,{value:n.categoryId,onValueChange:e=>r({...n,categoryId:e}),children:[t.jsx(g.i4,{children:t.jsx(g.ki,{placeholder:"Select category"})}),t.jsx(g.Bw,{children:d.map(e=>t.jsx(g.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"description",children:"Description (Optional)"}),t.jsx(y.g,{id:"description",value:n.description,onChange:e=>r({...n,description:e.target.value}),placeholder:"Additional details about the loan...",rows:3})]}),v>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"EMI Preview"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["₹",v.toLocaleString("en-IN",{maximumFractionDigits:0})]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Monthly EMI amount"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(i.z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx(i.z,{type:"submit",disabled:o,children:o?"Creating...":"Create Loan"})]})]})]})})}var b=s(4955),w=s(7846),A=s(8469),L=s(748),C=s(920),O=s(4857),E=s(6416);function R({open:e,onOpenChange:a,loan:s,onPaymentAdded:n}){let[r,d]=(0,l.useState)({amount:s.emiAmount.toString(),paymentType:N.t6.EMI,note:"",createTransaction:!0}),[c,o]=(0,l.useState)(!1),m=async e=>{e.preventDefault(),o(!0);try{(await fetch("/api/loans/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loanId:s.id,...r})})).ok&&(n(),d({amount:s.emiAmount.toString(),paymentType:N.t6.EMI,note:"",createTransaction:!0}))}catch(e){console.error("Error adding payment:",e)}finally{o(!1)}},x=(()=>{let e=parseFloat(r.amount)||0,a=s.interestRate/100/12,t=s.currentBalance*a;return{interest:Math.min(t,e),principal:Math.max(0,e-t)}})(),f=[{value:N.t6.EMI,label:"Regular EMI"},{value:N.t6.PREPAYMENT,label:"Prepayment"},{value:N.t6.PARTIAL_PAYMENT,label:"Partial Payment"},{value:N.t6.INTEREST_ONLY,label:"Interest Only"}];return t.jsx(h.Vq,{open:e,onOpenChange:a,children:(0,t.jsxs)(h.cZ,{className:"sm:max-w-[500px]",children:[t.jsx(h.fK,{children:(0,t.jsxs)(h.$N,{children:["Add Payment for ",s.name]})}),t.jsx("div",{className:"bg-red-50 p-4 rounded-lg mb-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Outstanding Balance"}),t.jsx("p",{className:"font-semibold text-red-600",children:(0,p.xG)(s.currentBalance)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Regular EMI"}),t.jsx("p",{className:"font-semibold text-blue-600",children:(0,p.xG)(s.emiAmount)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Interest Rate"}),(0,t.jsxs)("p",{className:"font-semibold text-purple-600",children:[s.interestRate,"% p.a."]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Loan Type"}),t.jsx("p",{className:"font-semibold text-gray-600",children:s.loanType.replace("_"," ")})]})]})}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"paymentType",children:"Payment Type"}),(0,t.jsxs)(g.Ph,{value:r.paymentType,onValueChange:e=>d({...r,paymentType:e}),required:!0,children:[t.jsx(g.i4,{children:t.jsx(g.ki,{placeholder:"Select payment type"})}),t.jsx(g.Bw,{children:f.map(e=>t.jsx(g.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"amount",children:"Payment Amount (₹)"}),t.jsx(u.I,{id:"amount",type:"number",value:r.amount,onChange:e=>d({...r,amount:e.target.value}),placeholder:"25000",min:"1",required:!0})]}),parseFloat(r.amount)>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Payment Breakdown"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-blue-600",children:"Principal"}),t.jsx("p",{className:"font-semibold text-blue-800",children:(0,p.xG)(x.principal)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-blue-600",children:"Interest"}),t.jsx("p",{className:"font-semibold text-blue-800",children:(0,p.xG)(x.interest)})]})]}),(0,t.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Remaining balance after payment: ",(0,p.xG)(Math.max(0,s.currentBalance-x.principal))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"note",children:"Note (Optional)"}),t.jsx(y.g,{id:"note",value:r.note,onChange:e=>d({...r,note:e.target.value}),placeholder:"EMI for January 2024, prepayment from bonus, etc.",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(E.X,{id:"createTransaction",checked:r.createTransaction,onCheckedChange:e=>d({...r,createTransaction:e})}),t.jsx(j._,{htmlFor:"createTransaction",className:"text-sm",children:"Create a transaction record for this payment"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(i.z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx(i.z,{type:"submit",disabled:c,children:c?"Processing...":"Add Payment"})]})]})]})})}let D=[{value:N.am.HOME_LOAN,label:"Home Loan"},{value:N.am.PERSONAL_LOAN,label:"Personal Loan"},{value:N.am.CAR_LOAN,label:"Car Loan"},{value:N.am.EDUCATION_LOAN,label:"Education Loan"},{value:N.am.CREDIT_CARD,label:"Credit Card"},{value:N.am.BUSINESS_LOAN,label:"Business Loan"},{value:N.am.GOLD_LOAN,label:"Gold Loan"},{value:N.am.OTHER,label:"Other"}];function P({open:e,onOpenChange:a,loan:s,onLoanUpdated:n}){let[r,d]=(0,l.useState)({name:"",loanType:"",principalAmount:"",interestRate:"",tenure:"",startDate:"",description:""}),[c,o]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),p=async e=>{if(e.preventDefault(),!s||!r.name||!r.loanType||!r.principalAmount||!r.interestRate||!r.tenure||!r.startDate){f.Am.error("Please fill in all required fields");return}x(!0);try{let e={name:r.name,loanType:r.loanType,principalAmount:parseFloat(r.principalAmount),interestRate:parseFloat(r.interestRate),tenure:parseInt(r.tenure),startDate:r.startDate,description:r.description||null},t=await fetch(`/api/loans/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)f.Am.success("Loan updated successfully!"),n(),a(!1);else{let e=await t.json();f.Am.error(e.error||"Failed to update loan")}}catch(e){console.error("Error updating loan:",e),f.Am.error("Failed to update loan")}finally{x(!1)}},N=(()=>{let e=parseFloat(r.principalAmount),a=parseFloat(r.interestRate)/100/12,s=parseInt(r.tenure);return e&&a&&s?a>0?e*a*Math.pow(1+a,s)/(Math.pow(1+a,s)-1):e/s:0})();return s?t.jsx(h.Vq,{open:e,onOpenChange:a,children:(0,t.jsxs)(h.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[t.jsx(h.fK,{children:t.jsx(h.$N,{children:"Edit Loan"})}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"name",children:"Loan Name *"}),t.jsx(u.I,{id:"name",value:r.name,onChange:e=>d({...r,name:e.target.value}),placeholder:"e.g., Home Loan - SBI",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"loanType",children:"Loan Type *"}),(0,t.jsxs)(g.Ph,{value:r.loanType,onValueChange:e=>d({...r,loanType:e}),required:!0,children:[t.jsx(g.i4,{children:t.jsx(g.ki,{placeholder:"Select loan type"})}),t.jsx(g.Bw,{children:D.map(e=>t.jsx(g.Ql,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"principalAmount",children:"Principal Amount (₹) *"}),t.jsx(u.I,{id:"principalAmount",type:"number",value:r.principalAmount,onChange:e=>d({...r,principalAmount:e.target.value}),placeholder:"1000000",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"interestRate",children:"Interest Rate (% p.a.) *"}),t.jsx(u.I,{id:"interestRate",type:"number",step:"0.01",value:r.interestRate,onChange:e=>d({...r,interestRate:e.target.value}),placeholder:"8.5",min:"0",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"tenure",children:"Tenure (months) *"}),t.jsx(u.I,{id:"tenure",type:"number",value:r.tenure,onChange:e=>d({...r,tenure:e.target.value}),placeholder:"240",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"startDate",children:"Start Date *"}),t.jsx(u.I,{id:"startDate",type:"date",value:r.startDate,onChange:e=>d({...r,startDate:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(j._,{htmlFor:"description",children:"Description"}),t.jsx(y.g,{id:"description",value:r.description,onChange:e=>d({...r,description:e.target.value}),placeholder:"Additional details about the loan...",rows:3})]}),N>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Updated EMI Preview"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["₹",N.toLocaleString("en-IN",{maximumFractionDigits:0})]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Monthly EMI amount"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Loan Status"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Current Balance"}),(0,t.jsxs)("p",{className:"font-medium text-red-600",children:["₹",s.currentBalance?.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Current EMI"}),(0,t.jsxs)("p",{className:"font-medium",children:["₹",s.emiAmount?.toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(i.z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx(i.z,{type:"submit",disabled:m,className:"bg-blue-600 hover:bg-blue-700",children:m?"Updating...":"Update Loan"})]})]})]})}):null}var T=s(907);let I={HOME_LOAN:"Home Loan",PERSONAL_LOAN:"Personal Loan",CAR_LOAN:"Car Loan",EDUCATION_LOAN:"Education Loan",CREDIT_CARD:"Credit Card",BUSINESS_LOAN:"Business Loan",GOLD_LOAN:"Gold Loan",OTHER:"Other"};function _({open:e,onOpenChange:a,loan:s,onLoanDeleted:n}){let[r,i]=(0,l.useState)(!1),d=async()=>{if(s){i(!0);try{let e=await fetch(`/api/loans/${s.id}`,{method:"DELETE"});if(e.ok)f.Am.success("Loan deleted successfully!"),n(),a(!1);else{let a=await e.json();f.Am.error(a.error||"Failed to delete loan")}}catch(e){console.error("Error deleting loan:",e),f.Am.error("Failed to delete loan")}finally{i(!1)}}};return s?t.jsx(T.aR,{open:e,onOpenChange:a,children:(0,t.jsxs)(T._T,{children:[(0,t.jsxs)(T.fY,{children:[t.jsx(T.f$,{children:"Delete Loan"}),t.jsx(T.yT,{asChild:!0,children:(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("p",{children:"Are you sure you want to delete this loan? This action cannot be undone and will also delete all associated payment records."}),(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[t.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:s.name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Loan Type:"}),t.jsx("span",{className:"font-medium ml-2",children:I[s.loanType]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Outstanding:"}),t.jsx("span",{className:"font-medium ml-2",children:(0,p.xG)(s.currentBalance)})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"Principal:"}),t.jsx("span",{className:"font-medium ml-2",children:(0,p.xG)(s.principalAmount)})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-red-700",children:"EMI:"}),t.jsx("span",{className:"font-medium ml-2",children:(0,p.xG)(s.emiAmount)})]})]})]}),t.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:t.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"⚠️ All payment history and transactions related to this loan will also be permanently deleted."})})]})})]}),(0,t.jsxs)(T.xo,{children:[t.jsx(T.le,{disabled:r,children:"Cancel"}),t.jsx(T.OL,{onClick:d,disabled:r,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:r?"Deleting...":"Delete Loan"})]})]})}):null}var S=s(9982),k=s(8577),M=s(7311),Z=s(3238);let F={[N.am.HOME_LOAN]:"Home Loan",[N.am.PERSONAL_LOAN]:"Personal Loan",[N.am.CAR_LOAN]:"Car Loan",[N.am.EDUCATION_LOAN]:"Education Loan",[N.am.CREDIT_CARD]:"Credit Card",[N.am.BUSINESS_LOAN]:"Business Loan",[N.am.GOLD_LOAN]:"Gold Loan",[N.am.OTHER]:"Other"},G={[N.t6.EMI]:"EMI",[N.t6.PREPAYMENT]:"Prepayment",[N.t6.PARTIAL_PAYMENT]:"Partial Payment",[N.t6.INTEREST_ONLY]:"Interest Only"};function B({open:e,onOpenChange:a,loanId:s,onLoanUpdated:d}){let[u,j]=(0,l.useState)(null),[y,g]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[L,E]=(0,l.useState)(!1),[D,T]=(0,l.useState)(!1),I=async()=>{if(s)try{g(!0);let e=await fetch(`/api/loans/${s}`);if(e.ok){let a=await e.json();j(a)}else f.Am.error("Failed to fetch loan details"),a(!1)}catch(e){console.error("Error fetching loan details:",e),f.Am.error("Failed to fetch loan details"),a(!1)}finally{g(!1)}};if(!e)return null;let B=(()=>{if(!u)return 0;let e=u.principalAmount-u.currentBalance;return u.principalAmount>0?e/u.principalAmount*100:0})(),q=(()=>{if(!u||!u.endDate)return null;let e=new Date,a=Math.ceil((new Date(u.endDate).getTime()-e.getTime())/2592e6);return a>0?a:0})();u&&u.payments?.reduce((e,a)=>e+a.amount,0);let z=u&&u.payments?.reduce((e,a)=>e+a.interestPaid,0)||0;return(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Vq,{open:e,onOpenChange:a,children:(0,t.jsxs)(h.cZ,{className:"sm:max-w-[800px] max-h-[90vh] overflow-hidden",children:[t.jsx(h.fK,{children:(0,t.jsxs)(h.$N,{className:"flex items-center gap-2",children:[t.jsx(b.Z,{className:"h-5 w-5 text-red-600"}),"Loan Details"]})}),y?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):u?t.jsx(k.x,{className:"max-h-[calc(90vh-120px)]",children:(0,t.jsxs)("div",{className:"space-y-6 pr-4",children:[(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx(O.C,{className:"bg-red-100 text-red-800",children:F[u.loanType]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(m.Z,{className:"w-3 h-3"}),u.interestRate,"% p.a."]})]}),t.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:(0,p.xG)(u.currentBalance)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Outstanding Balance"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>T(!0),className:"text-green-600 border-green-200 hover:bg-green-50",children:[t.jsx(c.Z,{className:"w-4 h-4 mr-1"}),"Payment"]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>v(!0),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[t.jsx(w.Z,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>E(!0),className:"text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(A.Z,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),t.jsx(S.Z,{}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(x.Z,{className:"h-5 w-5"}),"Repayment Progress"]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[B.toFixed(1),"%"]})]}),t.jsx(C.E,{value:B,className:"h-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Principal Amount"}),t.jsx("p",{className:"font-semibold text-blue-600",children:(0,p.xG)(u.principalAmount)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Amount Paid"}),t.jsx("p",{className:"font-semibold text-green-600",children:(0,p.xG)(u.principalAmount-u.currentBalance)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Monthly EMI"}),t.jsx("p",{className:"font-semibold text-orange-600",children:(0,p.xG)(u.emiAmount)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Remaining Months"}),t.jsx("p",{className:"font-semibold text-purple-600",children:null!==q?`${q} months`:"N/A"})]})]})]})]})}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(M.Z,{className:"h-5 w-5"}),"Loan Information"]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Loan Type"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:F[u.loanType]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Interest Rate"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[u.interestRate,"% per annum"]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Tenure"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[u.tenure," months"]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Start Date"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(u.startDate).toLocaleDateString()})]}),u.endDate&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"End Date"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(u.endDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Interest Paid"}),t.jsx("p",{className:"text-lg font-semibold text-red-600",children:(0,p.xG)(z)})]})]}),u.description&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),t.jsx("p",{className:"text-gray-900 mt-1",children:u.description})]})]})]})}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(Z.Z,{className:"h-5 w-5"}),"Payment History (",u.payments?.length||0,")"]})}),t.jsx(r.aY,{children:u.payments&&u.payments.length>0?(0,t.jsxs)("div",{className:"space-y-3",children:[u.payments.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(o.Z,{className:"h-4 w-4 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:(0,p.xG)(e.amount)}),t.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.paymentDate).toLocaleDateString()}),(0,t.jsxs)("div",{className:"flex gap-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Principal: ",(0,p.xG)(e.principalPaid)]}),(0,t.jsxs)("span",{children:["Interest: ",(0,p.xG)(e.interestPaid)]})]}),e.note&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.note})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(O.C,{variant:"outline",className:"text-xs",children:G[e.paymentType]})})]},e.id)),u.payments.length>10&&t.jsx("p",{className:"text-sm text-gray-600 text-center py-2",children:"Showing latest 10 payments"})]}):(0,t.jsxs)("div",{className:"text-center py-6",children:[t.jsx(Z.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-600",children:"No payment history available"}),(0,t.jsxs)(i.z,{size:"sm",onClick:()=>T(!0),className:"mt-3 bg-green-600 hover:bg-green-700 text-white",children:[t.jsx(c.Z,{className:"w-4 h-4 mr-1"}),"Make First Payment"]})]})})]})})]})}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"Loan not found"})})]})}),t.jsx(P,{open:N,onOpenChange:v,loan:u,onLoanUpdated:()=>{v(!1),d(),I()}}),t.jsx(_,{open:L,onOpenChange:E,loan:u,onLoanDeleted:()=>{E(!1),d(),a(!1)}}),u&&t.jsx(R,{open:D,onOpenChange:T,loan:u,onPaymentAdded:()=>{T(!1),d(),I()}})]})}let q={[N.am.HOME_LOAN]:"bg-blue-100 text-blue-800",[N.am.PERSONAL_LOAN]:"bg-red-100 text-red-800",[N.am.CAR_LOAN]:"bg-green-100 text-green-800",[N.am.EDUCATION_LOAN]:"bg-purple-100 text-purple-800",[N.am.CREDIT_CARD]:"bg-orange-100 text-orange-800",[N.am.BUSINESS_LOAN]:"bg-indigo-100 text-indigo-800",[N.am.GOLD_LOAN]:"bg-yellow-100 text-yellow-800",[N.am.OTHER]:"bg-gray-100 text-gray-800"},z={[N.am.HOME_LOAN]:"Home Loan",[N.am.PERSONAL_LOAN]:"Personal Loan",[N.am.CAR_LOAN]:"Car Loan",[N.am.EDUCATION_LOAN]:"Education Loan",[N.am.CREDIT_CARD]:"Credit Card",[N.am.BUSINESS_LOAN]:"Business Loan",[N.am.GOLD_LOAN]:"Gold Loan",[N.am.OTHER]:"Other"};function H({loans:e,onLoanUpdated:a}){let[s,d]=(0,l.useState)(null),[m,x]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[g,N]=(0,l.useState)(null),f=e=>{d(e),u(!0)},v=e=>{d(e),y(!0)},E=()=>{d(null),u(!1),y(!1)},D=e=>{d(e),x(!0)};return 0===e.length?t.jsx(r.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,t.jsxs)(r.aY,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(b.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No loans yet"}),t.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Add your loans to track payments and manage your debt effectively."})]})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,a)=>{let s=e.principalAmount-e.currentBalance,l=e.principalAmount>0?s/e.principalAmount*100:0,d=e.endDate?Math.ceil((new Date(e.endDate).getTime()-new Date().getTime())/2592e6):null;return t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,t.jsxs)(r.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 group cursor-pointer",onClick:()=>N(e.id),children:[t.jsx(r.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(r.ll,{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(b.Z,{className:"h-5 w-5 text-red-600"}),e.name]}),t.jsx(O.C,{className:q[e.loanType],children:z[e.loanType]})]}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(i.z,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),f(e)},title:"Edit Loan",className:"h-8 w-8 p-0",children:t.jsx(w.Z,{className:"h-4 w-4"})}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),D(e)},title:"Make Payment",className:"h-8 w-8 p-0",children:t.jsx(c.Z,{className:"h-4 w-4"})}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),v(e)},title:"Delete Loan",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:t.jsx(A.Z,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[e.description&&t.jsx("p",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Repayment Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[l.toFixed(1),"%"]})]}),t.jsx(C.E,{value:l,className:"h-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Outstanding"}),t.jsx("p",{className:"font-semibold text-red-600",children:(0,p.xG)(e.currentBalance)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Principal"}),t.jsx("p",{className:"font-semibold text-blue-600",children:(0,p.xG)(e.principalAmount)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Interest Rate"}),(0,t.jsxs)("p",{className:"font-semibold text-purple-600",children:[e.interestRate,"% p.a."]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-600",children:"EMI"}),t.jsx("p",{className:"font-semibold text-orange-600",children:(0,p.xG)(e.emiAmount)})]})]}),e.endDate&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(L.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:null!==d&&d>0?`${d} months remaining`:0===d?"Due this month":"Overdue"})]}),t.jsx("div",{className:"flex gap-2 pt-2",children:(0,t.jsxs)(i.z,{size:"sm",onClick:a=>{a.stopPropagation(),D(e)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[t.jsx(o.Z,{className:"h-4 w-4 mr-1"}),"Make Payment"]})})]})]})},e.id)})}),s&&t.jsx(R,{open:m,onOpenChange:x,loan:s,onPaymentAdded:()=>{a(),x(!1),d(null)}}),t.jsx(P,{open:h,onOpenChange:e=>{u(e),e||E()},loan:s,onLoanUpdated:a}),t.jsx(_,{open:j,onOpenChange:e=>{y(e),e||E()},loan:s,onLoanDeleted:a}),t.jsx(B,{open:!!g,onOpenChange:e=>!e&&N(null),loanId:g,onLoanUpdated:a})]})}function U(){let[e,a]=(0,l.useState)(null),[s,h]=(0,l.useState)(!0),[u,j]=(0,l.useState)(!1),y=async()=>{try{h(!0);let e=await fetch("/api/loans");if(e.ok){let s=await e.json(),t=s?.length||0,l=s?.reduce((e,a)=>e+a.currentBalance,0)||0,n=s?.reduce((e,a)=>e+a.emiAmount,0)||0,r=t>0?s.reduce((e,a)=>e+a.interestRate,0)/t:0,i=s?.reduce((e,a)=>e+(a.principalAmount-a.currentBalance),0)||0;a({loans:s||[],stats:{totalLoans:t,totalBalance:l,monthlyEMI:n,averageInterest:r,totalPaid:i,remainingAmount:l}})}}catch(e){console.error("Error fetching loans data:",e)}finally{h(!1)}};return s?t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,a)=>t.jsx("div",{className:"h-32 bg-slate-200 rounded"},a))})]})}):e?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-professional-blue to-professional-blue-light rounded-lg",children:t.jsx(d.Z,{className:"h-6 w-6 text-white"})}),"Loan Management"]}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Track your loans and manage EMI payments"})]}),(0,t.jsxs)(i.z,{className:"bg-professional-blue hover:bg-professional-blue-dark text-white",onClick:()=>j(!0),children:[t.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Add Loan"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,t.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Total Loans"}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(d.Z,{className:"h-4 w-4 text-professional-blue"})})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-professional-blue",children:e.stats.totalLoans}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Active loans"})]})]})}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,t.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Monthly EMI"}),t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(o.Z,{className:"h-4 w-4 text-red-600"})})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:(0,p.xG)(e.stats.monthlyEMI)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total monthly payment"})]})]})}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,t.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Avg. Interest"}),t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(m.Z,{className:"h-4 w-4 text-orange-600"})})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[e.stats.averageInterest.toFixed(1),"%"]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Average rate"})]})]})}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,t.jsxs)(r.Zb,{className:"professional-card hover-shadow",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium text-slate-600",children:"Outstanding Balance"}),t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(x.Z,{className:"h-4 w-4 text-red-600"})})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:(0,p.xG)(e.stats.totalBalance)}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Remaining amount"})]})]})})]}),t.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:t.jsx(H,{loans:e.loans,onLoanUpdated:y})})]}),t.jsx(v,{open:u,onOpenChange:j,onLoanAdded:()=>{j(!1),y()}})]}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Error loading loans"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Please try refreshing the page"})]})})}},907:(e,a,s)=>{"use strict";s.d(a,{OL:()=>j,_T:()=>m,aR:()=>d,f$:()=>h,fY:()=>x,le:()=>y,xo:()=>p,yT:()=>u});var t=s(4848),l=s(5642),n=s(9285),r=s(5709),i=s(8287);let d=n.fC;n.xz;let c=n.h_,o=l.forwardRef(({className:e,...a},s)=>t.jsx(n.aV,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));o.displayName=n.aV.displayName;let m=l.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(c,{children:[t.jsx(o,{}),t.jsx(n.VY,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));m.displayName=n.VY.displayName;let x=({className:e,...a})=>t.jsx("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});x.displayName="AlertDialogHeader";let p=({className:e,...a})=>t.jsx("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});p.displayName="AlertDialogFooter";let h=l.forwardRef(({className:e,...a},s)=>t.jsx(n.Dx,{ref:s,className:(0,r.cn)("text-lg font-semibold",e),...a}));h.displayName=n.Dx.displayName;let u=l.forwardRef(({className:e,...a},s)=>t.jsx(n.dk,{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));u.displayName=n.dk.displayName;let j=l.forwardRef(({className:e,...a},s)=>t.jsx(n.aU,{ref:s,className:(0,r.cn)((0,i.d)(),e),...a}));j.displayName=n.aU.displayName;let y=l.forwardRef(({className:e,...a},s)=>t.jsx(n.$j,{ref:s,className:(0,r.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));y.displayName=n.$j.displayName},6416:(e,a,s)=>{"use strict";s.d(a,{X:()=>C});var t=s(4848),l=s(5642),n=s(8532),r=s(9185),i=s(6654),d=s(1053),c=s(6681),o=s(1063),m=s(8319),x=s(6443),p="Checkbox",[h,u]=(0,r.b)(p),[j,y]=h(p),g=l.forwardRef((e,a)=>{let{__scopeCheckbox:s,name:r,checked:c,defaultChecked:o,required:m,disabled:p,value:h="on",onCheckedChange:u,...y}=e,[g,N]=l.useState(null),f=(0,n.e)(a,e=>N(e)),A=l.useRef(!1),L=!g||!!g.closest("form"),[C=!1,O]=(0,d.T)({prop:c,defaultProp:o,onChange:u}),E=l.useRef(C);return l.useEffect(()=>{let e=g?.form;if(e){let a=()=>O(E.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[g,O]),(0,t.jsxs)(j,{scope:s,state:C,disabled:p,children:[(0,t.jsx)(x.WV.button,{type:"button",role:"checkbox","aria-checked":b(C)?"mixed":C,"aria-required":m,"data-state":w(C),"data-disabled":p?"":void 0,disabled:p,value:h,...y,ref:f,onKeyDown:(0,i.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.M)(e.onClick,e=>{O(e=>!!b(e)||!e),L&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())})}),L&&(0,t.jsx)(v,{control:g,bubbles:!A.current,name:r,value:h,checked:C,required:m,disabled:p,style:{transform:"translateX(-100%)"}})]})});g.displayName=p;var N="CheckboxIndicator",f=l.forwardRef((e,a)=>{let{__scopeCheckbox:s,forceMount:l,...n}=e,r=y(N,s);return(0,t.jsx)(m.z,{present:l||b(r.state)||!0===r.state,children:(0,t.jsx)(x.WV.span,{"data-state":w(r.state),"data-disabled":r.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...e.style}})})});f.displayName=N;var v=e=>{let{control:a,checked:s,bubbles:n=!0,...r}=e,i=l.useRef(null),d=(0,c.D)(s),m=(0,o.t)(a);return l.useEffect(()=>{let e=i.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&a){let t=new Event("click",{bubbles:n});e.indeterminate=b(s),a.call(e,!b(s)&&s),e.dispatchEvent(t)}},[d,s,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:!b(s)&&s,...r,tabIndex:-1,ref:i,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return"indeterminate"===e}function w(e){return b(e)?"indeterminate":e?"checked":"unchecked"}var A=s(8444),L=s(5709);let C=l.forwardRef(({className:e,...a},s)=>t.jsx(g,{ref:s,className:(0,L.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:t.jsx(f,{className:(0,L.cn)("flex items-center justify-center text-current"),children:t.jsx(A.Z,{className:"h-4 w-4"})})}));C.displayName=g.displayName},920:(e,a,s)=>{"use strict";s.d(a,{E:()=>v});var t=s(4848),l=s(5642),n=s(9185),r=s(6443),i="Progress",[d,c]=(0,n.b)(i),[o,m]=d(i),x=l.forwardRef((e,a)=>{var s,l;let{__scopeProgress:n,value:i=null,max:d,getValueLabel:c=u,...m}=e;(d||0===d)&&!g(d)&&console.error((s=`${d}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=g(d)?d:100;null===i||N(i,x)||console.error((l=`${i}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=N(i,x)?i:null,h=y(p)?c(p,x):void 0;return(0,t.jsx)(o,{scope:n,value:p,max:x,children:(0,t.jsx)(r.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":y(p)?p:void 0,"aria-valuetext":h,role:"progressbar","data-state":j(p,x),"data-value":p??void 0,"data-max":x,...m,ref:a})})});x.displayName=i;var p="ProgressIndicator",h=l.forwardRef((e,a)=>{let{__scopeProgress:s,...l}=e,n=m(p,s);return(0,t.jsx)(r.WV.div,{"data-state":j(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...l,ref:a})});function u(e,a){return`${Math.round(e/a*100)}%`}function j(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function y(e){return"number"==typeof e}function g(e){return y(e)&&!isNaN(e)&&e>0}function N(e,a){return y(e)&&!isNaN(e)&&e<=a&&e>=0}h.displayName=p;var f=s(5709);let v=l.forwardRef(({className:e,value:a,...s},l)=>t.jsx(x,{ref:l,className:(0,f.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:t.jsx(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));v.displayName=x.displayName},8577:(e,a,s)=>{"use strict";s.d(a,{x:()=>i});var t=s(4848),l=s(5642),n=s(3088),r=s(5709);let i=l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(n.fC,{ref:l,className:(0,r.cn)("relative overflow-hidden",e),...s,children:[t.jsx(n.l_,{className:"h-full w-full rounded-[inherit]",children:a}),t.jsx(d,{}),t.jsx(n.Ns,{})]}));i.displayName=n.fC.displayName;let d=l.forwardRef(({className:e,orientation:a="vertical",...s},l)=>t.jsx(n.gb,{ref:l,orientation:a,className:(0,r.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(n.q4,{className:"relative flex-1 rounded-full bg-border"})}));d.displayName=n.gb.displayName},9982:(e,a,s)=>{"use strict";s.d(a,{Z:()=>i});var t=s(4848),l=s(5642),n=s(9164),r=s(5709);let i=l.forwardRef(({className:e,orientation:a="horizontal",decorative:s=!0,...l},i)=>t.jsx(n.f,{ref:i,decorative:s,orientation:a,className:(0,r.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...l}));i.displayName=n.f.displayName},748:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(93).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2378:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(93).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},3238:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(93).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},3664:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(93).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},3537:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(93).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},1487:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(7138).createProxy)(String.raw`/home/ubuntu/moneymitra/app/app/loans/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[5923,474,9634,4776,7603,4258],()=>s(3403));module.exports=t})();